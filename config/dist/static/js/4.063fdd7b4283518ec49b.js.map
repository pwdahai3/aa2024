{"version":3,"sources":["webpack:///src/components/users/userEdit.vue","webpack:///./src/components/users/userEdit.vue?9eaf","webpack:///./src/components/users/userEdit.vue","webpack:///src/components/vmenu/asideMenu.vue","webpack:///./src/components/vmenu/asideMenu.vue?6868","webpack:///./src/components/vmenu/asideMenu.vue","webpack:///src/basecomponents/sddate.vue","webpack:///./src/basecomponents/sddate.vue?0e88","webpack:///./src/basecomponents/sddate.vue","webpack:///src/components/vheader/header.vue","webpack:///./src/components/vheader/header.vue?5f03","webpack:///./src/components/vheader/header.vue","webpack:///src/basecomponents/loginRestriction.vue","webpack:///./src/basecomponents/loginRestriction.vue?4bdc","webpack:///./src/basecomponents/loginRestriction.vue","webpack:///src/components/layout/layout.vue","webpack:///./src/components/layout/layout.vue?209f","webpack:///./src/components/layout/layout.vue","webpack:///./src/assets/img/logo.png"],"names":["Base64","__webpack_require__","userEdit","loading","Boolean","Object","userName","_this","this","validator","callback","trigger","required","message","$t","_this2","userData","gradeValue","permission","then","res","gradeformCancel","err","password","addformCancel","resetFields","users_userEdit","render","_vm","_h","$createElement","_c","_self","attrs","width","title","visible","isPwdShow","close-on-click-modal","before-close","on","update:visible","$event","ref","model","addform","rules","addformRules","label-width","label","prop","disabled","value","$$v","$set","trim","expression","_v","type","click","editUser","directives","name","rawName","isGradeShow","gradeform","gradeformRules","placeholder","_l","item","key","staticRenderFns","Component","normalizeComponent","__webpack_exports__","asideMenu","getProductname","productName","data","resData","vmenu_asideMenu","staticClass","class","$store","state","isMenuShow","src","avatarUrl","alt","_s","myVersion","default-active","activeMenusValue","background-color","text-color","active-text-color","collapse-transition","collapse","router","index","slot","_e","auditRoles","components_vmenu_asideMenu","ssrContext","sddate","refreshTimeout","hash","Date","end","getTime","cT","startTime","endTime","autoRrefreshVal","oldTime","minusNum","next","basecomponents_sddate","staticStyle","change","selectDatetime","refreshAble","header","sddate_normalizeComponent","lang","reload","logout","command","n","d","getDate","e","vheader_header","toggleMenu","toggleRefresh","handleUserCommand","username","style","color","licenceinfo","istobeexpired","marginRight","transformDate","expireDate","font-weight","licenseValid","shadowInstances","currentShadowInstances","domainLimit","currentDomains","components_vheader_header","header_normalizeComponent","loginRestriction","loginInterval","loginTimeOut","resVisibleTime","exitLogin","done","basecomponents_loginRestriction","loginResShow","close-on-press-escape","show-close","handleClose","continueLogin","src_basecomponents_loginRestriction","loginRestriction_normalizeComponent","layout","vheader","edituser","layout_layout","asideMenuWidth","toggleAsideMenu","showEditUsersPswdDialog","userInfo","editPwdclose","layout_Component","layout_normalizeComponent","module","exports","p"],"mappings":"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","file":"static/js/4.063fdd7b4283518ec49b.js","sourcesContent":["<!--修改用户权限 + 更新密码-->\r\n<template>\r\n  <div>\r\n    <el-dialog width=\"40%\" title=\"更新密码\" :visible.sync=\"isPwdShow\" :close-on-click-modal=\"false\" :before-close=\"addformCancel\">\r\n      <el-form ref=\"addform\" :model=\"addform\" :rules=\"addformRules\" label-width=\"80px\">\r\n        <el-form-item label=\"账号\" prop=\"userName\">\r\n          <el-input v-model.trim=\"addform.userName\" :disabled=\"true\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input type=\"password\" v-model.trim=\"addform.password\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码确认\" prop=\"checkPass\">\r\n          <el-input type=\"password\" v-model.trim=\"addform.checkPass\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"editUser('addform')\">确认</el-button>\r\n          <el-button @click=\"addformCancel()\">取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <loading v-show=\"userloading\" title=\"数据处理中...\"></loading>\r\n    </el-dialog>\r\n\r\n    <el-dialog width=\"40%\" title=\"修改权限\" :visible.sync=\"isGradeShow\" :close-on-click-modal=\"false\" :before-close=\"gradeformCancel\">\r\n      <el-form ref=\"gradeform\" :model=\"gradeform\" :rules=\"gradeformRules\" label-width=\"80px\">\r\n        <el-form-item label=\"账号\" prop=\"userName\">\r\n          <el-input v-model.trim=\"gradeform.userName\" :disabled=\"true\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"权限\" prop=\"gradeValue\">\r\n          <el-select v-model=\"gradeform.gradeValue\" placeholder=\"请选择权限\">\r\n            <el-option\r\n              v-for=\"item in gradeform.gradeOptions\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"editUser('gradeform')\">确认</el-button>\r\n          <el-button @click=\"gradeformCancel()\">取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <loading v-show=\"userloading\" title=\"数据处理中...\"></loading>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\nimport loading from '@/components/loading/loading';\r\nimport {SERVER_API_URL} from '@/conf/constvar';\r\nlet Base64 = require('js-base64').Base64;\r\nexport default{\r\n  components:{\r\n    loading\r\n  },\r\n  props:{\r\n    isPwdShow:{\r\n      type:Boolean\r\n    },\r\n    isGradeShow:{\r\n      type:Boolean\r\n    },\r\n    userData:{\r\n      type:Object\r\n    }\r\n  },\r\n  watch:{\r\n    \"isPwdShow\":function(){\r\n      if(this.isPwdShow && this.userData){\r\n        this.addform.userName=this.userData.userName;\r\n        this.addform.password='';\r\n        this.addform.checkPass='';\r\n      }\r\n    },\r\n    \"isGradeShow\":function(){\r\n      if(this.isGradeShow && this.userData){\r\n        this.gradeform.userName=this.userData.userName;\r\n        this.gradeform.gradeValue=this.userData.roles[0];\r\n      }\r\n    }\r\n  },\r\n  data(){\r\n    var validatePass = (rule, value, callback) => {//强密码验证\r\n          if(value===''){\r\n            callback(new Error('请输入密码'));\r\n          }else{\r\n            if(!(/^(?=.*\\d)(?=.*[a-zA-Z])[\\da-zA-Z\\-\\.\"\\\\\\*\\!\\$@\\?\\^\\(\\)<>\\{\\}\\[\\]=%\\&:;\\/~\\+#_`]{6,20}$/.test(value))){\r\n              callback(new Error('请输入6-20位长度的密码，必须含字母和数字！'));\r\n            }\r\n            if(this.addform.checkPass!==''){\r\n              this.$refs.addform.validateField('checkPass');\r\n            }\r\n            callback();\r\n          }\r\n        };\r\n    var validatePass2 = (rule, value, callback) => {\r\n          if(value===''){\r\n            callback(new Error('请再次输入密码'));\r\n          }else if(value !== this.addform.password) {\r\n            callback(new Error(this.$t('lg.nomatch')));\r\n          }else{\r\n            callback();\r\n          }\r\n        };\r\n    return{\r\n      userloading:false,\r\n      addform:{\r\n        userName:\"\",\r\n        password:'',\r\n        checkPass:'',\r\n      },\r\n      gradeform:{\r\n        userName:\"\",\r\n        gradeOptions: [\r\n          {\r\n            value: 'ADMIN',\r\n            label: 'ADMIN'\r\n          },\r\n          {\r\n            value: 'USER',\r\n            label: 'USER'\r\n          },\r\n          {\r\n            value: 'AUDIT',\r\n            label: 'AUDIT'\r\n          }\r\n        ],\r\n        gradeValue: '',\r\n      },\r\n      addformRules:{\r\n        password:[\r\n          {validator: validatePass, trigger: 'blur'},\r\n          // {required: true, message: this.$t('lg.select'), trigger: 'blur'},\r\n        ],\r\n        checkPass:[\r\n          {validator: validatePass2, trigger: 'blur'},\r\n          // {required: true, message: this.$t('lg.select'), trigger: 'blur'},\r\n        ]\r\n      },\r\n      gradeformRules:{\r\n        gradeValue:[\r\n          {required: true, message: this.$t('lg.select'), trigger: 'blur'},\r\n        ],\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    editUser(formname){\r\n      var user=this.userData;\r\n      var url=SERVER_API_URL+\"uaa/user/\"+user.userName;\r\n\r\n      this.$refs[formname].validate((valid)=>{\r\n        if(valid){\r\n          if(formname==\"gradeform\"){//修改权限\r\n            var permission = [];\r\n            permission.push(this.gradeform.gradeValue);\r\n\r\n            this.userloading=true;\r\n            axios.patch(url,{\r\n              roles:permission\r\n            }).then((res)=>{\r\n              // console.log(res)\r\n              if(res.data.responseCode==0){\r\n                this.$message({\r\n                  type: 'success',\r\n                  message: this.$t('lg.success')\r\n                });\r\n                this.$emit(\"hasadduser\");\r\n                this.gradeformCancel();\r\n              }else{\r\n                this.$message.error(this.$t('lg.failed'));\r\n              }\r\n              this.userloading=false;\r\n            }).catch((err)=>{\r\n              console.log(err)\r\n              // this.$message.error(err.data);\r\n              this.userloading=false;\r\n            });\r\n\r\n          }else{//更新密码\r\n            var password=Base64.encode(this.addform.password);\r\n            this.userloading=true;\r\n            axios.patch(url,{\r\n              password:password,\r\n            }).then((res)=>{\r\n              // console.log(res)\r\n              if(res.data.responseCode==0){\r\n                this.$message({\r\n                  type: 'success',\r\n                  message: this.$t('lg.success')\r\n                });\r\n               \r\n                if(this.$store.state.pswdreminder)this.$store.state.pswdreminder.close();//修改密码成功，关闭修改密码提示\r\n                this.addformCancel();\r\n              }else{\r\n                this.$message.error(this.$t('lg.failed'));\r\n              }\r\n              this.userloading=false;\r\n            }).catch((err)=>{\r\n              console.log(err)\r\n              // this.$message.error(err.data);\r\n              this.userloading=false;\r\n            });\r\n          }\r\n        }\r\n      })\r\n    },\r\n    addformCancel(){\r\n      this.$refs['addform'].resetFields();\r\n      this.$emit(\"editPwdclose\");\r\n    },\r\n    gradeformCancel(){\r\n      this.$refs['gradeform'].resetFields();\r\n      this.$emit(\"editGradeclose\");\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/users/userEdit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"width\":\"40%\",\"title\":\"更新密码\",\"visible\":_vm.isPwdShow,\"close-on-click-modal\":false,\"before-close\":_vm.addformCancel},on:{\"update:visible\":function($event){_vm.isPwdShow=$event}}},[_c('el-form',{ref:\"addform\",attrs:{\"model\":_vm.addform,\"rules\":_vm.addformRules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"账号\",\"prop\":\"userName\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.addform.userName),callback:function ($$v) {_vm.$set(_vm.addform, \"userName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addform.userName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.addform.password),callback:function ($$v) {_vm.$set(_vm.addform, \"password\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addform.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码确认\",\"prop\":\"checkPass\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.addform.checkPass),callback:function ($$v) {_vm.$set(_vm.addform, \"checkPass\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addform.checkPass\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.editUser('addform')}}},[_vm._v(\"确认\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.addformCancel()}}},[_vm._v(\"取消\")])],1)],1),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.userloading),expression:\"userloading\"}],attrs:{\"title\":\"数据处理中...\"}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"width\":\"40%\",\"title\":\"修改权限\",\"visible\":_vm.isGradeShow,\"close-on-click-modal\":false,\"before-close\":_vm.gradeformCancel},on:{\"update:visible\":function($event){_vm.isGradeShow=$event}}},[_c('el-form',{ref:\"gradeform\",attrs:{\"model\":_vm.gradeform,\"rules\":_vm.gradeformRules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"账号\",\"prop\":\"userName\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.gradeform.userName),callback:function ($$v) {_vm.$set(_vm.gradeform, \"userName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"gradeform.userName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"权限\",\"prop\":\"gradeValue\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择权限\"},model:{value:(_vm.gradeform.gradeValue),callback:function ($$v) {_vm.$set(_vm.gradeform, \"gradeValue\", $$v)},expression:\"gradeform.gradeValue\"}},_vm._l((_vm.gradeform.gradeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.editUser('gradeform')}}},[_vm._v(\"确认\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.gradeformCancel()}}},[_vm._v(\"取消\")])],1)],1),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.userloading),expression:\"userloading\"}],attrs:{\"title\":\"数据处理中...\"}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e8d5ce0e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/users/userEdit.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userEdit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userEdit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e8d5ce0e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./userEdit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/users/userEdit.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"aside-menu\">\r\n    <div class=\"avatar\">\r\n      <img class=\"logocls\" :class=\"$store.state.isMenuShow?'avatarImg':''\" :src=\"avatarUrl\" alt=\"\">\r\n    </div>\r\n    <div class=\"slogon\">\r\n      <h1 class=\"logo-title\">{{productName}}</h1>\r\n      <p class=\"auth-date\">{{$store.state.myVersion}} {{$t('lg.version')}}</p> <!-- {{$store.state.myVersion}} 3.0-->\r\n    </div>\r\n    <el-scrollbar>\r\n      <el-menu :default-active=\"activeMenusValue\" background-color=\"#28333e\" text-color=\"#fff\" active-text-color=\"#ffd04b\" :collapse-transition=\"false\" :collapse=\"$store.state.isMenuShow\" router>\r\n        <el-submenu index=\"1\">\r\n          <template slot=\"title\">\r\n            <i class=\"fa fa-bar-chart\"></i>\r\n            <span slot=\"title\">数据展示</span>\r\n          </template>\r\n          <el-menu-item index=\"visit\">恶意访问</el-menu-item>\r\n          <el-menu-item index=\"attack\">恶意攻击</el-menu-item>\r\n          <el-menu-item index=\"dashboard\">性能监控</el-menu-item>\r\n          <el-menu-item index=\"customChartGridLayout\">自定义图表</el-menu-item>\r\n        </el-submenu>\r\n\r\n        <el-submenu index=\"2\" v-if=\"adminRoles\">\r\n          <template slot=\"title\">\r\n            <i class=\"fa fa-compress\"></i>\r\n            <span slot=\"title\">对象监控</span>\r\n          </template>\r\n          <el-menu-item index=\"objUpdate\">对象发现</el-menu-item>\r\n          <el-menu-item index=\"apiChart\">API状态</el-menu-item>\r\n        </el-submenu>\r\n\r\n        <!-- <el-menu-item index=\"autoconfig\" v-if=\"adminRoles\">\r\n          <i class=\"fa fa-sitemap\"></i>\r\n          <span slot=\"title\">自动化配置</span>\r\n        </el-menu-item> -->\r\n\r\n        <el-menu-item index=\"quickConfig\" v-if=\"adminRoles\">\r\n          <i class=\"fa fa-compass\"></i>\r\n          <span slot=\"title\">快速配置向导</span>\r\n        </el-menu-item>\r\n\r\n        <el-menu-item index=\"config\" v-if=\"!auditRoles\">\r\n          <i class=\"fa fa-cog\"></i>\r\n          <span slot=\"title\">配置</span>\r\n        </el-menu-item>\r\n        <el-menu-item index=\"uriwhite\" v-if=\"adminRoles\">\r\n          <i class=\"fa fa-cog\"></i>\r\n          <span slot=\"title\">URI白名单</span>\r\n        </el-menu-item>\r\n\r\n        <el-menu-item index=\"logs\">\r\n          <i class=\"fa fa-file\"></i>\r\n          <span slot=\"title\">日志</span>\r\n        </el-menu-item>\r\n\r\n        <el-submenu index=\"6\" v-if=\"adminRoles\">\r\n          <template slot=\"title\">\r\n            <i class=\"fa fa-user-plus\"></i>\r\n            <span slot=\"title\">行为分析</span>\r\n          </template>\r\n          <!-- <el-menu-item index=\"behaviortime\">{{$t('lg.jiyushijiang')}}</el-menu-item> -->\r\n          <el-menu-item index=\"behaviortimes\">{{$t('lg.jiyucishu')}}</el-menu-item>\r\n          <el-menu-item index=\"behaviortkhistory\">{{$t('lg.jiyujilu')}}</el-menu-item>\r\n          <el-menu-item index=\"customQuery\">{{$t('lg.zidingyi')}}</el-menu-item>\r\n          <el-menu-item index=\"bwlist\">{{$t('lg.zwHeimingdan')}}</el-menu-item>\r\n        </el-submenu>\r\n        <el-menu-item index=\"timingTask\" v-if=\"adminRoles\">\r\n          <i class=\"fa fa-envelope\"></i>\r\n          <span slot=\"title\">邮件报警</span>\r\n        </el-menu-item>\r\n\r\n        <el-menu-item index=\"cmonitor\" v-if=\"adminRoles\">\r\n          <i class=\"fa fa-exchange\"></i>\r\n          <span slot=\"title\">组件监控</span>\r\n        </el-menu-item>\r\n\r\n        <el-submenu index=\"9\" v-if=\"adminRoles\">\r\n          <template slot=\"title\">\r\n            <i class=\"fa fa-users\"></i>\r\n            <span slot=\"title\">系统管理</span>\r\n          </template>\r\n          <el-menu-item index=\"users\">用户管理</el-menu-item>\r\n          <el-menu-item index=\"lockedAccounts\">锁定账号管理</el-menu-item>\r\n          <el-menu-item index=\"updateui\">系统更新</el-menu-item>\r\n          <el-menu-item index=\"logbackup\">日志备份设置</el-menu-item>\r\n          <el-menu-item index=\"firewall\">防火墙配置</el-menu-item>\r\n          <el-menu-item index=\"license\">License管理</el-menu-item>\r\n          <el-menu-item index=\"mailnotify\">邮件管理</el-menu-item>\r\n          <el-menu-item index=\"ntpmsg\">ntp配置管理</el-menu-item>\r\n          <el-menu-item index=\"radiusmsg\">radius配置管理</el-menu-item>\r\n          <el-menu-item index=\"tacacsmsg\">tacacs配置管理</el-menu-item>\r\n          <el-menu-item index=\"syslogmsg\">syslog配置管理</el-menu-item>\r\n          <el-menu-item index=\"snmpmsg\">snmp配置管理</el-menu-item>\r\n        </el-submenu>\r\n      </el-menu>\r\n    </el-scrollbar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as types from '@/store/types';\r\nimport {SERVER_API_URL2} from '@/conf/constvar';\r\nimport store from '../../store/store';\r\nimport axios from 'axios';\r\nexport default {\r\n  created(){\r\n    if(!this.$store.state.productName){\r\n      this.getProductname();\r\n    }\r\n    var myRole=sessionStorage.getItem('myRoles');\r\n    if(myRole=='ADMIN'){\r\n      this.adminRoles=true;\r\n      this.auditRoles=false;\r\n    }else if(myRole=='USER'){\r\n      this.adminRoles=false;\r\n      this.auditRoles=false;\r\n    }else if(myRole=='AUDIT'){\r\n      this.adminRoles=false;\r\n      this.auditRoles=true;\r\n    }\r\n  },\r\n  data(){\r\n    return{\r\n      productName:store.state.productName,\r\n      avatarUrl:require('@/assets/img/logo.png'),\r\n      adminRoles:false,//当前用户的权限不是管理员用户\r\n      auditRoles:false,//当前用户的权限是审计用户时，只显示审计日志内容\r\n    }\r\n  },\r\n  methods:{\r\n    getProductname(){\r\n      let url=SERVER_API_URL2+'pe/shadow/kv/productName';\r\n      axios.get(url).then((res)=>{\r\n        if(res.data.responseCode==0){\r\n          let resData=res.data.data\r\n          this.productName=resData;\r\n          this.$store.state.productName=resData;\r\n        }\r\n      })\r\n    },\r\n  },\r\n  computed:{\r\n    activeMenusValue(){//当前页面对应的菜单栏\r\n      return this.$route.path.slice(1)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.aside-menu\r\n  height 100% \r\n  display flex\r\n  flex-direction column\r\n  overflow hidden\r\n  .avatar\r\n    width 100%\r\n    text-align center\r\n    margin 25px 0\r\n    .logocls\r\n      max-width: 210px\r\n    .avatarImg\r\n      height 55px\r\n  .slogon\r\n    color #fff\r\n    text-align center\r\n    margin-bottom 10px\r\n    .logo-title\r\n      font-size 18px\r\n      margin-bottom 15px\r\n      overflow hidden\r\n      text-overflow ellipsis\r\n      line-height 18px\r\n      padding:0 4px\r\n    .auth-date\r\n      font-size 13px\r\n  .el-scrollbar\r\n    height 100%\r\n    .el-menu \r\n      flex 1\r\n      border-right none\r\n    .fa\r\n      margin:0 10px 0 6px\r\n      font-size 18px\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/vmenu/asideMenu.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"aside-menu\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{staticClass:\"logocls\",class:_vm.$store.state.isMenuShow?'avatarImg':'',attrs:{\"src\":_vm.avatarUrl,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"slogon\"},[_c('h1',{staticClass:\"logo-title\"},[_vm._v(_vm._s(_vm.productName))]),_vm._v(\" \"),_c('p',{staticClass:\"auth-date\"},[_vm._v(_vm._s(_vm.$store.state.myVersion)+\" \"+_vm._s(_vm.$t('lg.version')))])]),_vm._v(\" \"),_c('el-scrollbar',[_c('el-menu',{attrs:{\"default-active\":_vm.activeMenusValue,\"background-color\":\"#28333e\",\"text-color\":\"#fff\",\"active-text-color\":\"#ffd04b\",\"collapse-transition\":false,\"collapse\":_vm.$store.state.isMenuShow,\"router\":\"\"}},[_c('el-submenu',{attrs:{\"index\":\"1\"}},[_c('template',{slot:\"title\"},[_c('i',{staticClass:\"fa fa-bar-chart\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"数据展示\")])]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"visit\"}},[_vm._v(\"恶意访问\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"attack\"}},[_vm._v(\"恶意攻击\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"dashboard\"}},[_vm._v(\"性能监控\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"customChartGridLayout\"}},[_vm._v(\"自定义图表\")])],2),_vm._v(\" \"),(_vm.adminRoles)?_c('el-submenu',{attrs:{\"index\":\"2\"}},[_c('template',{slot:\"title\"},[_c('i',{staticClass:\"fa fa-compress\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"对象监控\")])]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"objUpdate\"}},[_vm._v(\"对象发现\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"apiChart\"}},[_vm._v(\"API状态\")])],2):_vm._e(),_vm._v(\" \"),(_vm.adminRoles)?_c('el-menu-item',{attrs:{\"index\":\"quickConfig\"}},[_c('i',{staticClass:\"fa fa-compass\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"快速配置向导\")])]):_vm._e(),_vm._v(\" \"),(!_vm.auditRoles)?_c('el-menu-item',{attrs:{\"index\":\"config\"}},[_c('i',{staticClass:\"fa fa-cog\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"配置\")])]):_vm._e(),_vm._v(\" \"),(_vm.adminRoles)?_c('el-menu-item',{attrs:{\"index\":\"uriwhite\"}},[_c('i',{staticClass:\"fa fa-cog\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"URI白名单\")])]):_vm._e(),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"logs\"}},[_c('i',{staticClass:\"fa fa-file\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"日志\")])]),_vm._v(\" \"),(_vm.adminRoles)?_c('el-submenu',{attrs:{\"index\":\"6\"}},[_c('template',{slot:\"title\"},[_c('i',{staticClass:\"fa fa-user-plus\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"行为分析\")])]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"behaviortimes\"}},[_vm._v(_vm._s(_vm.$t('lg.jiyucishu')))]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"behaviortkhistory\"}},[_vm._v(_vm._s(_vm.$t('lg.jiyujilu')))]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"customQuery\"}},[_vm._v(_vm._s(_vm.$t('lg.zidingyi')))]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"bwlist\"}},[_vm._v(_vm._s(_vm.$t('lg.zwHeimingdan')))])],2):_vm._e(),_vm._v(\" \"),(_vm.adminRoles)?_c('el-menu-item',{attrs:{\"index\":\"timingTask\"}},[_c('i',{staticClass:\"fa fa-envelope\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"邮件报警\")])]):_vm._e(),_vm._v(\" \"),(_vm.adminRoles)?_c('el-menu-item',{attrs:{\"index\":\"cmonitor\"}},[_c('i',{staticClass:\"fa fa-exchange\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"组件监控\")])]):_vm._e(),_vm._v(\" \"),(_vm.adminRoles)?_c('el-submenu',{attrs:{\"index\":\"9\"}},[_c('template',{slot:\"title\"},[_c('i',{staticClass:\"fa fa-users\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"系统管理\")])]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"users\"}},[_vm._v(\"用户管理\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"lockedAccounts\"}},[_vm._v(\"锁定账号管理\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"updateui\"}},[_vm._v(\"系统更新\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"logbackup\"}},[_vm._v(\"日志备份设置\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"firewall\"}},[_vm._v(\"防火墙配置\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"license\"}},[_vm._v(\"License管理\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"mailnotify\"}},[_vm._v(\"邮件管理\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"ntpmsg\"}},[_vm._v(\"ntp配置管理\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"radiusmsg\"}},[_vm._v(\"radius配置管理\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"tacacsmsg\"}},[_vm._v(\"tacacs配置管理\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"syslogmsg\"}},[_vm._v(\"syslog配置管理\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"snmpmsg\"}},[_vm._v(\"snmp配置管理\")])],2):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3dbf8c07\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/vmenu/asideMenu.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3dbf8c07\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./asideMenu.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./asideMenu.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./asideMenu.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3dbf8c07\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./asideMenu.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3dbf8c07\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/vmenu/asideMenu.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"date-wrapper\">\r\n    <!-- <el-date-picker\r\n      v-model=\"$store.state.nowTimeVal\"\r\n      type=\"datetimerange\"\r\n      :picker-options=\"pickerOptions\"\r\n      :range-separator=\"$t('lg.to')\"\r\n      :start-placeholder=\"$t('lg.startdate')\"\r\n      :end-placeholder=\"$t('lg.enddate')\"\r\n      unlink-panels\r\n      @change=\"setMyTime\"\r\n      align=\"right\"\r\n      :clearable=\"false\">\r\n    </el-date-picker> -->\r\n    <el-select v-model=\"value\" placeholder=\"请选择\" @change=\"selectDatetime\" style=\"width:114px;\">\r\n            <el-option\r\n              v-for=\"item in dateoptions\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n\r\n    <div class=\"autoRefreshBox\" v-if=\"isShowAutoRefresh\">\r\n      <img src=\"static/icon/autoRefresh.png\" alt=\"自动刷新\" class=\"atRefImg\">\r\n      <el-select v-model=\"autoRrefreshVal\" :placeholder=\"$t('lg.select')\" :disabled='$store.state.refreshAble'>\r\n        <el-option\r\n          v-for=\"item in autoRrefreshOpt\"\r\n          :key=\"item.value\"\r\n          :label=\"item.label\"\r\n          :value=\"item.value\">\r\n        </el-option>\r\n      </el-select>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport * as types from '@/store/types'\r\nexport default{\r\n  created(){\r\n    if(this.$store.state.refreshTimeout){\r\n      clearTimeout(this.$store.state.refreshTimeout)\r\n    }\r\n    \r\n    //刷新页面后(刷新情况不会跳转路由)\r\n    if(this.atRefreshPathArr.indexOf(this.$route.path)!==-1){\r\n      this.isShowAutoRefresh=true;\r\n    }else{\r\n      this.isShowAutoRefresh=false;\r\n    }\r\n\r\n    this.$store.commit(types.MYDATEPICKER);//退出登录后再登录\r\n  },\r\n  watch:{\r\n    '$route.path' :{//跳转页面时、\r\n      handler(newName, oldName) {\r\n        this.$store.state.refreshFalg=false;\r\n        clearTimeout(this.$store.state.refreshTimeout);\r\n        this.autoRrefreshVal=0;//跳转页面时，关闭自动刷新\r\n        if(this.atRefreshPathArr.indexOf(this.$route.path)!==-1){\r\n          this.isShowAutoRefresh=true;\r\n        }else{\r\n          this.isShowAutoRefresh=false;\r\n        }\r\n\r\n        const hash=window.location.hash;\r\n        if(hash.includes('dashboard')){\r\n          this.pickerOptions.shortcuts= [\r\n            {\r\n              text: this.$t('lg.last1hour'),\r\n              onClick(picker) {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000);\r\n                picker.$emit('pick', [start, end]);  \r\n              }  \r\n            },\r\n            {\r\n              text: this.$t('lg.last1day'),\r\n              onClick(picker) {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 1);\r\n                picker.$emit('pick', [start, end]);\r\n              },\r\n            },\r\n            {\r\n              text: this.$t('lg.last1week'),\r\n              onClick(picker) {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n                picker.$emit('pick', [start, end]);\r\n              },\r\n            }\r\n          ]\r\n        }else{\r\n          this.pickerOptions.shortcuts= [\r\n            {\r\n              text: this.$t('lg.last1hour'),\r\n              onClick(picker) {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000);\r\n                picker.$emit('pick', [start, end]);  \r\n              }  \r\n            },\r\n            {\r\n              text: this.$t('lg.last1day'),\r\n              onClick(picker) {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 1);\r\n                picker.$emit('pick', [start, end]);\r\n              },\r\n            },\r\n            {\r\n              text: this.$t('lg.last1week'),\r\n              onClick(picker) {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n                picker.$emit('pick', [start, end]);\r\n              },\r\n            },\r\n            {\r\n              text: this.$t('lg.last1month'),\r\n              onClick(picker) {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n                picker.$emit('pick', [start, end]);\r\n              }\r\n            }, \r\n            {\r\n              text: this.$t('lg.last3month'),\r\n              onClick(picker) {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n                picker.$emit('pick', [start, end]);\r\n              },\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      immediate: true\r\n    },\r\n    'autoRrefreshVal'(){//监视刷新频率变动\r\n      var cT =new Date().getTime();\r\n      this.$store.state.nowTimeVal=[new Date(cT-this.intervalTime),new Date(cT)];\r\n\r\n      clearTimeout(this.$store.state.refreshTimeout);\r\n      if(this.autoRrefreshVal==0){\r\n        return false\r\n      }else{\r\n        this.startAutoRefresh();//调用自动刷新\r\n      }\r\n    },\r\n  },\r\n  data(){\r\n    return{\r\n      dateoptions: [{\r\n          value: 'last1hour',\r\n          label: '过去1小时'\r\n        },{\r\n          value: 'last3hour',\r\n          label: '过去3小时'\r\n        }, {\r\n          value: 'last1day',\r\n          label: '过去1天'\r\n        }, {\r\n          value: 'last1week',\r\n          label: '过去1周'\r\n        }, {\r\n          value: 'last1month',\r\n          label: '过去1个月'\r\n        }],\r\n      value: 'last1day',\r\n      isShowAutoRefresh:true,\r\n      autoRrefreshVal:0,//刷新间隔\r\n      autoRrefreshOpt:[{\r\n        value:0,\r\n        label:'off'\r\n      },{\r\n        value:10000,\r\n        label:'10s'\r\n      },{\r\n        value:30000,\r\n        label:'30s'\r\n      },{\r\n        value:60000,\r\n        label:'1m'\r\n      },{\r\n        value:300000,\r\n        label:'5m'\r\n      }],\r\n      intervalTime:24*60*60*1000,//结束时间与开始时间的间隔差  3600 * 1000 * 24 * 1\r\n     \r\n      atRefreshPathArr:['/visit','/attack','/dashboard','/visitChart','/attackChart','/apiChart','/customChartGridLayout'],//能设置自动刷新的页面\r\n      \r\n      pickerOptions: {\r\n        disabledDate(time) {\r\n          const hash=window.location.hash\r\n          if(hash.includes('dashboard')){\r\n            return  time.getTime() < new Date(new Date().getTime()-3600 * 1000 * 24 * 7).getTime() ||  time.getTime() > Date.now() ;//不能选择未来时间\r\n          }else{\r\n            return time.getTime() > Date.now();//不能选择未来时间\r\n          }\r\n        },\r\n        shortcuts: [\r\n        {\r\n          text: this.$t('lg.last1hour'),\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000);\r\n            picker.$emit('pick', [start, end]);  \r\n          }  \r\n        },\r\n        {\r\n          text: this.$t('lg.last1day'),\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 1);\r\n            picker.$emit('pick', [start, end]);\r\n          },\r\n        },{\r\n          text: this.$t('lg.last1week'),\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n            picker.$emit('pick', [start, end]);\r\n          },\r\n        } ,{\r\n          text: this.$t('lg.last1month'),\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n            picker.$emit('pick', [start, end]);\r\n          }\r\n        }, {\r\n          text: this.$t('lg.last3month'),\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n            picker.$emit('pick', [start, end]);\r\n          },\r\n        }]\r\n      },\r\n      // nowTimeVal: [new Date(new Date().getTime()-this.$store.state.dateTimeLong), new Date()],\r\n    }\r\n  },\r\n  methods:{\r\n    selectDatetime(item){\r\n      let startTime=new Date();\r\n      let endTime=new Date();\r\n      if(item==\"last1hour\"){\r\n        startTime=startTime.getTime() - 3600*1000;\r\n      }else if(item==\"last3hour\"){\r\n        startTime=startTime.getTime() - 3600*3*1000;\r\n      }else if(item==\"last1day\"){\r\n        startTime=startTime.getTime()-3600 * 1000 * 24 * 1;\r\n      }else if(item==\"last1week\"){\r\n        startTime=startTime.getTime()-3600 * 1000 * 24 * 7;\r\n      }else{\r\n        startTime=startTime.getTime()-3600 * 1000 * 24 * 30;\r\n      }\r\n      startTime=new Date(startTime);\r\n      this.$store.state.nowTimeVal=[startTime,endTime];\r\n      this.$store.commit(types.MYDATEPICKER);\r\n    },\r\n    startAutoRefresh(){//根据选择的刷新间隔，开启自动刷新\r\n      var _this=this;\r\n      var cT;\r\n      let startTime=new Date();\r\n      if(_this.value==\"last1hour\"){\r\n        startTime=startTime.getTime() - 3600*1000;\r\n      }else if(_this.value==\"last3hour\"){\r\n        startTime=startTime.getTime() - 3600*3*1000;\r\n      }else if(_this.value==\"last1day\"){\r\n        startTime=startTime.getTime()-3600 * 1000 * 24 * 1;\r\n      }else if(_this.value==\"last1week\"){\r\n        startTime=startTime.getTime()-3600 * 1000 * 24 * 7;\r\n      }else{\r\n        startTime=startTime.getTime()-3600 * 1000 * 24 * 30;\r\n      }\r\n      startTime=new Date(startTime);\r\n      _this.$store.state.refreshTimeout=setTimeout(function(){\r\n        _this.$store.state.refreshFalg=true;\r\n        cT =new Date().getTime();\r\n        // console.log(new Date(cT),_this.intervalTime);\r\n        _this.$store.state.nowTimeVal=[startTime,new Date(cT)];\r\n        _this.startAutoRefresh();//重复调用\r\n        _this.$store.commit(types.MYDATEPICKER);\r\n      },_this.autoRrefreshVal)\r\n    },\r\n    setMyTime(val){\r\n      var _this = this;\r\n      _this.$store.state.refreshFalg=false;\r\n      var oldTime = val[0];\r\n      var newTime = val[1];\r\n      var currentTime = new Date().getTime();\r\n      var newTimeT=new Date(newTime).getTime();\r\n      var minusNum = newTime - oldTime;\r\n      if(minusNum>24*60*60*1000*30*3){\r\n        val[1]=oldTime.getTime()+24*60*60*1000*30*3;\r\n        _this.$message.error('选择时间间隔不能超过3个月');\r\n      }\r\n      _this.intervalTime=minusNum;\r\n      _this.autoRrefreshVal=0;//时间范围改变，关闭自动刷新\r\n      \r\n      if((minusNum==3600000 && (currentTime-newTimeT<1000) && (currentTime-newTimeT>=0)) || (minusNum==1*24*60*60*1000 && (currentTime-newTimeT<1000) && (currentTime-newTimeT>=0)) || (minusNum==7*24*60*60*1000 && (currentTime-newTimeT<1000) && (currentTime-newTimeT>=0)) || (minusNum==30*24*60*60*1000 && (currentTime-newTimeT<1000) && (currentTime-newTimeT>=0)) || (minusNum==3*30*24*60*60*1000 && (currentTime-newTimeT<1000) && (currentTime-newTimeT>=0))){\r\n        _this.$store.state.refreshAble=false;//自动刷新图表针对于最近时间 最近一小时 最近一天 ，最近三个月，最近一年等等有效，不禁用\r\n      }else{\r\n        _this.$store.state.refreshAble=true;//对具体时间段无效（过去的某一个时间段数据是不会改变了的）禁用自动刷新\r\n        clearTimeout(_this.$store.state.refreshTimeout);\r\n      }\r\n      \r\n      _this.$store.commit(types.MYDATEPICKER);\r\n    }\r\n  },\r\n  beforeRouteLeave(to,from,next){\r\n    clearTimeout(this.$store.state.refreshTimeout);\r\n    next()\r\n  },\r\n}\r\n</script>\r\n<style>\r\n.date-wrapper {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.date-wrapper .el-input__inner {\r\n  background-color:#f1f1f2;\r\n  border: 3px solid #ffffff;\r\n  text-align: end;\r\n}\r\n.date-wrapper .el-range-editor.is-active, .el-range-editor.is-active:hover{\r\n  border-color: #fff;\r\n}\r\n.date-wrapper .el-date-editor .el-range__icon{\r\n  line-height: 28px;\r\n}\r\n.date-wrapper .el-date-editor .el-range-input{\r\n  background:#f1f1f2;\r\n}\r\n.date-wrapper .el-date-editor .el-range-separator{\r\n  line-height: 28px;\r\n}\r\n\r\n/*自动刷新*/\r\n.autoRefreshBox{\r\n  position: relative;\r\n  width: 85px;\r\n}\r\n.autoRefreshBox .el-select .el-input.is-focus .el-input__inner{\r\n  border-color: #fff;\r\n}\r\n.autoRefreshBox .el-select .el-input__inner:focus{\r\n  border-color: #fff;\r\n}\r\n.atRefImg{\r\n  position: absolute;\r\n  top: 13px;\r\n  left: 12px;\r\n  width: 14px;\r\n  height: 14px;\r\n  z-index: 1;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/basecomponents/sddate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"date-wrapper\"},[_c('el-select',{staticStyle:{\"width\":\"114px\"},attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.selectDatetime},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.dateoptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})})),_vm._v(\" \"),(_vm.isShowAutoRefresh)?_c('div',{staticClass:\"autoRefreshBox\"},[_c('img',{staticClass:\"atRefImg\",attrs:{\"src\":\"static/icon/autoRefresh.png\",\"alt\":\"自动刷新\"}}),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":_vm.$t('lg.select'),\"disabled\":_vm.$store.state.refreshAble},model:{value:(_vm.autoRrefreshVal),callback:function ($$v) {_vm.autoRrefreshVal=$$v},expression:\"autoRrefreshVal\"}},_vm._l((_vm.autoRrefreshOpt),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5f0c255c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/basecomponents/sddate.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5f0c255c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./sddate.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./sddate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./sddate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5f0c255c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./sddate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/basecomponents/sddate.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"headerContainer\">\r\n    <div class=\"header-mgt\">\r\n      <ul class=\"header-mgt-left\">\r\n        <li @click=\"toggleMenu\" class=\"cursor-pointer\">\r\n          <i :class=\"$store.state.isMenuShow?'fa fa-indent':'fa fa-dedent'\"></i>\r\n        </li>\r\n        <li @click=\"toggleRefresh\" class=\"cursor-pointer\">\r\n          <i class=\"fa fa-refresh\"></i>\r\n        </li>\r\n      </ul>\r\n\r\n      <ul class=\"header-mgt-right\">\r\n        <li><!-- 时间选择+自动刷新 -->\r\n          <sddate></sddate>\r\n        </li>\r\n        <li class=\"cursor-pointer\">\r\n          <el-dropdown @command=\"handleUserCommand\">\r\n            <span class=\"el-dropdown-link\">{{username}}<i class=\"el-icon-caret-bottom el-icon--right\"></i></span>\r\n            <el-dropdown-menu slot=\"dropdown\">\r\n              <el-dropdown-item command=\"logout\">退出登录</el-dropdown-item>\r\n            </el-dropdown-menu>\r\n          </el-dropdown>\r\n        </li>\r\n      </ul>\r\n\r\n    </div>\r\n    <div class=\"header-info\">\r\n      <span :style=\"[{color:$store.state.licenceinfo.istobeexpired?'red':'#4a5166'},{marginRight:$store.state.licenceinfo.istobeexpired?0:'6px'}]\" :title=\"$store.state.licenceinfo.istobeexpired?'Licence即将过期':'Licence有效'\">授权日期: {{transformDate($store.state.licenceinfo.expireDate)}}</span>\r\n      <span v-show=\"$store.state.licenceinfo.istobeexpired\"><i class=\"el-icon-bell\" style=\"color:red;font-weight:800\" title=\"Licence即将过期\"></i></span>\r\n      <span>授权状态: {{$store.state.licenceinfo.licenseValid===true?$t('lg.youxiao'):$t('lg.wuxiao')}}</span>\r\n      <!-- <span>{{$t('lg.authflow')}}: {{$store.state.licenceinfo.quota || 0}}(M)</span> -->\r\n      <span>授权节点数: {{$store.state.licenceinfo.shadowInstances || 0}}</span>\r\n      <span>当前节点数: {{$store.state.licenceinfo.currentShadowInstances || 0}}</span>\r\n      <span>授权域名数: {{$store.state.licenceinfo.domainLimit || 0}}</span>\r\n      <span>当前域名数: {{$store.state.licenceinfo.currentDomains || 0}}</span>\r\n      <!-- <span>流量监控邮件通知: <el-checkbox v-model=\"$store.state.myNotification\" @change=\"updateNotification\"></el-checkbox></span> -->\r\n    </div>\r\n\r\n    <!-- 采样频率 -->\r\n    <!-- <div class=\"rate-info\">\r\n      <timerate v-if=\"$store.state.isShowTimerate\"></timerate>\r\n    </div> -->\r\n\r\n    <!-- 中英文切换 -->\r\n    <!-- <div class=\"zhen\">\r\n      <el-select v-model=\"selectValue\" @change=\"langChange\" size=\"mini\" placeholder=\"请选择\">\r\n          <el-option\r\n              v-for=\"item in options\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\">\r\n          </el-option>\r\n      </el-select>\r\n    </div> -->\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios'\r\nimport {SERVER_API_URL} from '@/conf/constvar'\r\nimport * as types from '@/store/types'\r\nimport sddate from '@/basecomponents/sddate'\r\n// import timerate from '@/basecomponents/timerate'\r\nexport default {\r\n  components:{\r\n    sddate,\r\n    // timerate\r\n  },\r\n  created(){\r\n    this.selectValue = localStorage.lang == undefined?'cn':localStorage.lang\r\n    this.$store.commit(types.GETVERSION);\r\n    this.$store.commit(types.GETLICENCEINFO);\r\n    // this.$store.commit(types.GETNOTIFICATION);\r\n  },\r\n  computed:{\r\n    username(){\r\n      return this.$store.state.user.name || sessionStorage.getItem('myname')\r\n    }\r\n  },\r\n  data(){\r\n    return{\r\n      licenceinfo:{},\r\n      selectValue:'',\r\n      options:[\r\n        {\r\n          value: 'cn',\r\n          label: '中文'\r\n        }, {\r\n          value: 'en',\r\n          label: 'English'\r\n        }\r\n      ],\r\n      checked:false\r\n    }\r\n  },\r\n  methods:{\r\n    toggleMenu(){\r\n      this.$emit(\"toggleMenu\");\r\n    },\r\n    toggleRefresh(){\r\n      location.reload();\r\n    },\r\n    handleUserCommand(command) {\r\n      const funUserObj = {\r\n        logout: this.logout\r\n      }\r\n      this.$nextTick(() => {\r\n        funUserObj[command]()\r\n      })\r\n    },\r\n    logout(){\r\n      var url=SERVER_API_URL+\"uaa/logout\";\r\n      const instance = axios.create();//实例化，独立于拦截器\r\n      instance.post(url,{},{\r\n        headers: {\r\n          'Authorization': 'Bearer '+sessionStorage.getItem('mytoken')\r\n        }\r\n      }).then((res)=>{\r\n        // console.log(res)\r\n        if(res.status===200){\r\n          this.$store.commit(types.LOGOUT);\r\n        }else{\r\n          this.$message.error('退出失败，请重试');\r\n        }\r\n      }).catch((err)=>{\r\n        this.$store.commit(types.LOGOUT);\r\n      })\r\n    },\r\n    transformDate(d){\r\n      d=new Date(d);\r\n      function pad(n){\r\n        return n<10 ? '0'+n : n\r\n      }\r\n      return d.getFullYear()+'-'+ pad(parseInt(d.getMonth())+1)+'-'+ pad(d.getDate());\r\n    },\r\n    \r\n    // updateNotification(){//更新流量监控邮件通知参数配置\r\n    //   const url=SERVER_API_URL+'monitoring/quota/param';\r\n    //   axios.patch(url,{\r\n    //     \"notification\": this.$store.state.myNotification\r\n    //   }).then((res)=>{\r\n    //     if(res.data.responseCode==0){\r\n    //       setTimeout(()=>{\r\n    //         this.$message({\r\n    //           type: 'success',\r\n    //           message:  this.$t('lg.success')\r\n    //         });\r\n    //       },1000)\r\n    //     }else{\r\n    //       this.$message.error('操作失败: '+ res.data.data.message);\r\n    //       this.$store.state.myNotification=!this.$store.state.myNotification;\r\n    //     }\r\n    //   }).catch((err)=>{\r\n    //     console.log(err)\r\n    //   });\r\n    // },\r\n    \r\n    langChange(e){\r\n      this.$router.go(0);\r\n      localStorage.setItem('lang',e);\r\n      this.$i18n.locale = e;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import \"~@/assets/css/var.styl\"\r\n.headerContainer\r\n  background-color #fff\r\n  .header-mgt\r\n    padding 2px 15px\r\n    height 40px\r\n    line-height 40px\r\n    display flex\r\n    justify-content space-between \r\n    border-bottom 1px solid #f1f1f1\r\n    overflow hidden\r\n    .header-mgt-left\r\n      li\r\n        float left\r\n        margin-right 20px\r\n        .fa\r\n          vertical-align middle\r\n          font-size 18px\r\n    .header-mgt-right\r\n      overflow hidden\r\n      li\r\n        float left\r\n        margin-left 20px\r\n  .header-info\r\n    height 30px\r\n    line-height 30px\r\n    padding-left 15px\r\n    box-sizing border-box\r\n    overflow hidden\r\n    span \r\n      margin-right 8px\r\n      color #4A5166\r\n  // .zhen\r\n  //   flex:0 0 120px\r\n  //   width 120px\r\n  //   text-align right\r\n  //   margin-top 26px\r\n  //   margin-left 20px\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/vheader/header.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"headerContainer\"},[_c('div',{staticClass:\"header-mgt\"},[_c('ul',{staticClass:\"header-mgt-left\"},[_c('li',{staticClass:\"cursor-pointer\",on:{\"click\":_vm.toggleMenu}},[_c('i',{class:_vm.$store.state.isMenuShow?'fa fa-indent':'fa fa-dedent'})]),_vm._v(\" \"),_c('li',{staticClass:\"cursor-pointer\",on:{\"click\":_vm.toggleRefresh}},[_c('i',{staticClass:\"fa fa-refresh\"})])]),_vm._v(\" \"),_c('ul',{staticClass:\"header-mgt-right\"},[_c('li',[_c('sddate')],1),_vm._v(\" \"),_c('li',{staticClass:\"cursor-pointer\"},[_c('el-dropdown',{on:{\"command\":_vm.handleUserCommand}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(_vm._s(_vm.username)),_c('i',{staticClass:\"el-icon-caret-bottom el-icon--right\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"logout\"}},[_vm._v(\"退出登录\")])],1)],1)],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"header-info\"},[_c('span',{style:([{color:_vm.$store.state.licenceinfo.istobeexpired?'red':'#4a5166'},{marginRight:_vm.$store.state.licenceinfo.istobeexpired?0:'6px'}]),attrs:{\"title\":_vm.$store.state.licenceinfo.istobeexpired?'Licence即将过期':'Licence有效'}},[_vm._v(\"授权日期: \"+_vm._s(_vm.transformDate(_vm.$store.state.licenceinfo.expireDate)))]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$store.state.licenceinfo.istobeexpired),expression:\"$store.state.licenceinfo.istobeexpired\"}]},[_c('i',{staticClass:\"el-icon-bell\",staticStyle:{\"color\":\"red\",\"font-weight\":\"800\"},attrs:{\"title\":\"Licence即将过期\"}})]),_vm._v(\" \"),_c('span',[_vm._v(\"授权状态: \"+_vm._s(_vm.$store.state.licenceinfo.licenseValid===true?_vm.$t('lg.youxiao'):_vm.$t('lg.wuxiao')))]),_vm._v(\" \"),_c('span',[_vm._v(\"授权节点数: \"+_vm._s(_vm.$store.state.licenceinfo.shadowInstances || 0))]),_vm._v(\" \"),_c('span',[_vm._v(\"当前节点数: \"+_vm._s(_vm.$store.state.licenceinfo.currentShadowInstances || 0))]),_vm._v(\" \"),_c('span',[_vm._v(\"授权域名数: \"+_vm._s(_vm.$store.state.licenceinfo.domainLimit || 0))]),_vm._v(\" \"),_c('span',[_vm._v(\"当前域名数: \"+_vm._s(_vm.$store.state.licenceinfo.currentDomains || 0))])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-54b6cc33\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/vheader/header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-54b6cc33\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./header.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-54b6cc33\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-54b6cc33\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/vheader/header.vue\n// module id = null\n// module chunks = ","<!--继续访问页面 询问弹框-->\r\n<template>\r\n  <div>\r\n    <el-dialog\r\n      title=\"登出提示\"\r\n      :visible.sync=\"$store.state.loginResShow\"\r\n      width=\"25%\"\r\n      :close-on-click-modal='false'\r\n      :close-on-press-escape='false'\r\n      :show-close='false'\r\n      :before-close=\"handleClose\">\r\n      <p class=\"loginResTxt\">程序将在{{resVisibleTime}}秒后退出登录</p>\r\n      <div class=\"text-right\">\r\n        <el-button @click=\"exitLogin\">退出登录</el-button>\r\n        <el-button type=\"primary\" @click=\"continueLogin\">继续访问</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as types from '@/store/types';\r\nimport axios from 'axios';\r\nimport {SERVER_API_URL} from '@/conf/constvar';\r\nimport {showConfirm} from '../main.js'\r\nexport default {\r\n  data(){\r\n    return{\r\n      resVisibleTime:60,\r\n      loginTimeOut:null,\r\n    }\r\n  },\r\n  watch:{\r\n    '$store.state.loginResShow':function(){\r\n      if(this.$store.state.loginResShow){\r\n        this.loginInterval();           \r\n      }else{\r\n        this.loginTimeOut && clearInterval(this.loginTimeOut);\r\n        this.loginTimeOut=null;\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    loginInterval(){//60s倒计时\r\n      this.loginTimeOut=setInterval(()=>{\r\n        this.resVisibleTime--;\r\n        console.log(this.resVisibleTime)\r\n        if(this.resVisibleTime==0){\r\n          this.$store.state.restrictFlag = true;\r\n          this.exitLogin();\r\n        }\r\n      },1000)\r\n    },\r\n    continueLogin(){//点击继续访问页面 功能：定时替换token （相当于token到期就询问用户是否替换token）\r\n      var _this = this;\r\n\r\n      _this.$store.state.loginResShow=false;\r\n      clearInterval(_this.loginTimeOut);\r\n      _this.loginTimeOut=null;\r\n      _this.resVisibleTime=60;\r\n      \r\n      showConfirm();//在这里开启下一次询问弹框的显示；（只有点击取消才能有下一个弹框的出现的可能；点击确定就跳到登录页面了，不能再出现loginRestriction弹框了）\r\n\r\n      // 请求新的token\r\n      const oldRefreshToken = sessionStorage.getItem('refresh_token');\r\n      var url=SERVER_API_URL+\"uaa/oauth/token?refresh_token=\"+oldRefreshToken+\"&grant_type=refresh_token\";\r\n      const instance = axios.create();//实例化，独立于拦截器\r\n      instance.post(url,{},{\r\n        headers: {\r\n          'Authorization': 'Basic VUk6V0VScU0zWnVORFIxZEhWQw==',\r\n        }\r\n      }).then((res)=>{\r\n        if(res.status==200){\r\n          _this.$store.commit(types.LOGIN,res.data);//用vuex重新设置基本信息\r\n        }\r\n      }).catch((err)=>{\r\n        alert(\"请求出错,请重新登录\");\r\n        _this.$store.commit(types.LOGOUT);\r\n      })\r\n    },\r\n    exitLogin(){//点击确定退出登录\r\n      this.$store.state.loginResShow=false;\r\n      clearInterval(this.loginTimeOut);//清除60s倒计时定时器\r\n      this.loginTimeOut=null;\r\n      this.resVisibleTime=60;\r\n      this.$store.commit(types.LOGOUT);\r\n    },\r\n    handleClose(done){\r\n      done();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.loginResTxt{\r\n  margin-bottom: 20px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/basecomponents/loginRestriction.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"title\":\"登出提示\",\"visible\":_vm.$store.state.loginResShow,\"width\":\"25%\",\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"show-close\":false,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.$set(_vm.$store.state, \"loginResShow\", $event)}}},[_c('p',{staticClass:\"loginResTxt\"},[_vm._v(\"程序将在\"+_vm._s(_vm.resVisibleTime)+\"秒后退出登录\")]),_vm._v(\" \"),_c('div',{staticClass:\"text-right\"},[_c('el-button',{on:{\"click\":_vm.exitLogin}},[_vm._v(\"退出登录\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.continueLogin}},[_vm._v(\"继续访问\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c000bfda\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/basecomponents/loginRestriction.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c000bfda\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./loginRestriction.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./loginRestriction.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./loginRestriction.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c000bfda\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./loginRestriction.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/basecomponents/loginRestriction.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"layout_container\">\r\n    <el-container>\r\n      <!-- 左侧菜单栏 -->\r\n      <el-aside :width=\"asideMenuWidth\">\r\n        <aside-menu></aside-menu>\r\n      </el-aside>\r\n      <!-- 右侧主体栏 -->\r\n      <el-container class=\"right-container\">\r\n        <!-- 头部 -->\r\n        <el-header>\r\n          <vheader @toggleMenu=\"toggleAsideMenu\"></vheader>\r\n        </el-header>\r\n        <!-- 页面主体 -->\r\n        <el-main>\r\n          <loading class=\"main-loading-c\" v-if=\"$store.state.contentLoading\"></loading>\r\n          <router-view/> \r\n        </el-main>\r\n      </el-container>\r\n    </el-container>\r\n    <loginRestriction></loginRestriction> <!-- 退出登录提示全局弹框 -->\r\n    <edituser :isPwdShow=\"$store.state.showEditUsersPswdDialog\" @editPwdclose=\"$store.state.showEditUsersPswdDialog=false\" :userData=\"$store.state.userInfo\"></edituser> <!-- 修改密码全局弹框 -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as types from '@/store/types';\r\nimport asideMenu from '@/components/vmenu/asideMenu'\r\nimport vheader from '@/components/vheader/header'\r\nimport loginRestriction from '@/basecomponents/loginRestriction'\r\nimport edituser from '@/components/users/userEdit.vue'\r\nimport loading from '@/components/loading/loading'\r\nexport default {\r\n  components:{\r\n    vheader,\r\n    asideMenu,\r\n    loginRestriction,\r\n    edituser,\r\n    loading\r\n  },\r\n  data(){\r\n    return{\r\n      asideMenuWidth: '210px',\r\n    }\r\n  },\r\n  methods:{\r\n    toggleAsideMenu(){//切换左侧菜单形式\r\n      this.$store.state.isMenuShow = !this.$store.state.isMenuShow;\r\n      this.asideMenuWidth = this.$store.state.isMenuShow ? '65px' : '210px';\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.layout_container\r\n  width 100%\r\n  height 100%\r\n  .el-container\r\n    width 100%\r\n    height 100%\r\n    // 左侧菜单栏\r\n    .el-aside \r\n      background-color #28333e\r\n      color #fff\r\n    // 右侧主体栏\r\n    .right-container\r\n      padding 15px\r\n      background-color #f1f1f2\r\n      // 头部\r\n      .el-header\r\n        height 74px !important\r\n        padding 0 \r\n        margin-bottom 15px\r\n      // 页面主体\r\n      .el-main\r\n        padding 0px\r\n        position relative\r\n        background-color #fff\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/layout/layout.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout_container\"},[_c('el-container',[_c('el-aside',{attrs:{\"width\":_vm.asideMenuWidth}},[_c('aside-menu')],1),_vm._v(\" \"),_c('el-container',{staticClass:\"right-container\"},[_c('el-header',[_c('vheader',{on:{\"toggleMenu\":_vm.toggleAsideMenu}})],1),_vm._v(\" \"),_c('el-main',[(_vm.$store.state.contentLoading)?_c('loading',{staticClass:\"main-loading-c\"}):_vm._e(),_vm._v(\" \"),_c('router-view')],1)],1)],1),_vm._v(\" \"),_c('loginRestriction'),_vm._v(\" \"),_c('edituser',{attrs:{\"isPwdShow\":_vm.$store.state.showEditUsersPswdDialog,\"userData\":_vm.$store.state.userInfo},on:{\"editPwdclose\":function($event){_vm.$store.state.showEditUsersPswdDialog=false}}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0ce8751c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/layout/layout.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0ce8751c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./layout.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./layout.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./layout.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0ce8751c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./layout.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0ce8751c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/layout/layout.vue\n// module id = null\n// module chunks = ","module.exports = __webpack_public_path__ + \"static/img/logo.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/logo.png\n// module id = dLd/\n// module chunks = 4"],"sourceRoot":""}