webpackJsonp([4],{"0dwM":function(t,e,s){"use strict";var i=s("mtWM"),a=s.n(i),o=s("qqiS"),r=s("yJCr"),n=s("xrTZ").Base64,l={components:{loading:o.a},props:{isPwdShow:{type:Boolean},isGradeShow:{type:Boolean},userData:{type:Object}},watch:{isPwdShow:function(){this.isPwdShow&&this.userData&&(this.addform.userName=this.userData.userName,this.addform.password="",this.addform.checkPass="")},isGradeShow:function(){this.isGradeShow&&this.userData&&(this.gradeform.userName=this.userData.userName,this.gradeform.gradeValue=this.userData.roles[0])}},data:function(){var t=this;return{userloading:!1,addform:{userName:"",password:"",checkPass:""},gradeform:{userName:"",gradeOptions:[{value:"ADMIN",label:"ADMIN"},{value:"USER",label:"USER"},{value:"AUDIT",label:"AUDIT"}],gradeValue:""},addformRules:{password:[{validator:function(e,s,i){""===s?i(new Error("请输入密码")):(/^(?=.*\d)(?=.*[a-zA-Z])[\da-zA-Z\-\."\\\*\!\$@\?\^\(\)<>\{\}\[\]=%\&:;\/~\+#_`]{6,20}$/.test(s)||i(new Error("请输入6-20位长度的密码，必须含字母和数字！")),""!==t.addform.checkPass&&t.$refs.addform.validateField("checkPass"),i())},trigger:"blur"}],checkPass:[{validator:function(e,s,i){""===s?i(new Error("请再次输入密码")):s!==t.addform.password?i(new Error(t.$t("lg.nomatch"))):i()},trigger:"blur"}]},gradeformRules:{gradeValue:[{required:!0,message:this.$t("lg.select"),trigger:"blur"}]}}},methods:{editUser:function(t){var e=this,s=this.userData,i=r.b+"uaa/user/"+s.userName;this.$refs[t].validate(function(s){if(s)if("gradeform"==t){var o=[];o.push(e.gradeform.gradeValue),e.userloading=!0,a.a.patch(i,{roles:o}).then(function(t){0==t.data.responseCode?(e.$message({type:"success",message:e.$t("lg.success")}),e.$emit("hasadduser"),e.gradeformCancel()):e.$message.error(e.$t("lg.failed")),e.userloading=!1}).catch(function(t){console.log(t),e.userloading=!1})}else{var r=n.encode(e.addform.password);e.userloading=!0,a.a.patch(i,{password:r}).then(function(t){0==t.data.responseCode?(e.$message({type:"success",message:e.$t("lg.success")}),e.$store.state.pswdreminder&&e.$store.state.pswdreminder.close(),e.addformCancel()):e.$message.error(e.$t("lg.failed")),e.userloading=!1}).catch(function(t){console.log(t),e.userloading=!1})}})},addformCancel:function(){this.$refs.addform.resetFields(),this.$emit("editPwdclose")},gradeformCancel:function(){this.$refs.gradeform.resetFields(),this.$emit("editGradeclose")}}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-dialog",{attrs:{width:"40%",title:"更新密码",visible:t.isPwdShow,"close-on-click-modal":!1,"before-close":t.addformCancel},on:{"update:visible":function(e){t.isPwdShow=e}}},[s("el-form",{ref:"addform",attrs:{model:t.addform,rules:t.addformRules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"账号",prop:"userName"}},[s("el-input",{attrs:{disabled:!0},model:{value:t.addform.userName,callback:function(e){t.$set(t.addform,"userName","string"==typeof e?e.trim():e)},expression:"addform.userName"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{type:"password"},model:{value:t.addform.password,callback:function(e){t.$set(t.addform,"password","string"==typeof e?e.trim():e)},expression:"addform.password"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"密码确认",prop:"checkPass"}},[s("el-input",{attrs:{type:"password"},model:{value:t.addform.checkPass,callback:function(e){t.$set(t.addform,"checkPass","string"==typeof e?e.trim():e)},expression:"addform.checkPass"}})],1),t._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.editUser("addform")}}},[t._v("确认")]),t._v(" "),s("el-button",{on:{click:function(e){t.addformCancel()}}},[t._v("取消")])],1)],1),t._v(" "),s("loading",{directives:[{name:"show",rawName:"v-show",value:t.userloading,expression:"userloading"}],attrs:{title:"数据处理中..."}})],1),t._v(" "),s("el-dialog",{attrs:{width:"40%",title:"修改权限",visible:t.isGradeShow,"close-on-click-modal":!1,"before-close":t.gradeformCancel},on:{"update:visible":function(e){t.isGradeShow=e}}},[s("el-form",{ref:"gradeform",attrs:{model:t.gradeform,rules:t.gradeformRules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"账号",prop:"userName"}},[s("el-input",{attrs:{disabled:!0},model:{value:t.gradeform.userName,callback:function(e){t.$set(t.gradeform,"userName","string"==typeof e?e.trim():e)},expression:"gradeform.userName"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"权限",prop:"gradeValue"}},[s("el-select",{attrs:{placeholder:"请选择权限"},model:{value:t.gradeform.gradeValue,callback:function(e){t.$set(t.gradeform,"gradeValue",e)},expression:"gradeform.gradeValue"}},t._l(t.gradeform.gradeOptions,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.editUser("gradeform")}}},[t._v("确认")]),t._v(" "),s("el-button",{on:{click:function(e){t.gradeformCancel()}}},[t._v("取消")])],1)],1),t._v(" "),s("loading",{directives:[{name:"show",rawName:"v-show",value:t.userloading,expression:"userloading"}],attrs:{title:"数据处理中..."}})],1)],1)},staticRenderFns:[]},c=s("VU/8")(l,h,!1,null,null,null);e.a=c.exports},"6KT8":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("5reh"),a=s("yJCr"),o=s("wtEF"),r=s("mtWM"),n=s.n(r),l={created:function(){this.$store.state.productName||this.getProductname();var t=sessionStorage.getItem("myRoles");"ADMIN"==t?(this.adminRoles=!0,this.auditRoles=!1):"USER"==t?(this.adminRoles=!1,this.auditRoles=!1):"AUDIT"==t&&(this.adminRoles=!1,this.auditRoles=!0)},data:function(){return{productName:o.a.state.productName,avatarUrl:s("dLd/"),adminRoles:!1,auditRoles:!1}},methods:{getProductname:function(){var t=this,e=a.c+"pe/shadow/kv/productName";n.a.get(e).then(function(e){if(0==e.data.responseCode){var s=e.data.data;t.productName=s,t.$store.state.productName=s}})}},computed:{activeMenusValue:function(){return this.$route.path.slice(1)}}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"aside-menu"},[e("div",{staticClass:"avatar"},[e("img",{staticClass:"logocls",class:this.$store.state.isMenuShow?"avatarImg":"",attrs:{src:this.avatarUrl,alt:""}})]),this._v(" "),e("div",{staticClass:"slogon"},[e("h1",{staticClass:"logo-title"},[this._v(this._s(this.productName))]),this._v(" "),e("p",{staticClass:"auth-date"},[this._v(this._s(this.$store.state.myVersion)+" "+this._s(this.$t("lg.version")))])]),this._v(" "),e("el-scrollbar",[e("el-menu",{attrs:{"default-active":this.activeMenusValue,"background-color":"#28333e","text-color":"#fff","active-text-color":"#ffd04b","collapse-transition":!1,collapse:this.$store.state.isMenuShow,router:""}},[e("el-submenu",{attrs:{index:"1"}},[e("template",{slot:"title"},[e("i",{staticClass:"fa fa-bar-chart"}),this._v(" "),e("span",{attrs:{slot:"title"},slot:"title"},[this._v("数据展示")])]),this._v(" "),e("el-menu-item",{attrs:{index:"visit"}},[this._v("恶意访问")]),this._v(" "),e("el-menu-item",{attrs:{index:"attack"}},[this._v("恶意攻击")]),this._v(" "),e("el-menu-item",{attrs:{index:"dashboard"}},[this._v("性能监控")]),this._v(" "),e("el-menu-item",{attrs:{index:"customChartGridLayout"}},[this._v("自定义图表")])],2),this._v(" "),this.adminRoles?e("el-submenu",{attrs:{index:"2"}},[e("template",{slot:"title"},[e("i",{staticClass:"fa fa-compress"}),this._v(" "),e("span",{attrs:{slot:"title"},slot:"title"},[this._v("对象监控")])]),this._v(" "),e("el-menu-item",{attrs:{index:"objUpdate"}},[this._v("对象发现")]),this._v(" "),e("el-menu-item",{attrs:{index:"apiChart"}},[this._v("API状态")])],2):this._e(),this._v(" "),this.adminRoles?e("el-menu-item",{attrs:{index:"quickConfig"}},[e("i",{staticClass:"fa fa-compass"}),this._v(" "),e("span",{attrs:{slot:"title"},slot:"title"},[this._v("快速配置向导")])]):this._e(),this._v(" "),this.auditRoles?this._e():e("el-menu-item",{attrs:{index:"config"}},[e("i",{staticClass:"fa fa-cog"}),this._v(" "),e("span",{attrs:{slot:"title"},slot:"title"},[this._v("配置")])]),this._v(" "),this.adminRoles?e("el-menu-item",{attrs:{index:"uriwhite"}},[e("i",{staticClass:"fa fa-cog"}),this._v(" "),e("span",{attrs:{slot:"title"},slot:"title"},[this._v("URI白名单")])]):this._e(),this._v(" "),e("el-menu-item",{attrs:{index:"logs"}},[e("i",{staticClass:"fa fa-file"}),this._v(" "),e("span",{attrs:{slot:"title"},slot:"title"},[this._v("日志")])]),this._v(" "),this.adminRoles?e("el-submenu",{attrs:{index:"6"}},[e("template",{slot:"title"},[e("i",{staticClass:"fa fa-user-plus"}),this._v(" "),e("span",{attrs:{slot:"title"},slot:"title"},[this._v("行为分析")])]),this._v(" "),e("el-menu-item",{attrs:{index:"behaviortimes"}},[this._v(this._s(this.$t("lg.jiyucishu")))]),this._v(" "),e("el-menu-item",{attrs:{index:"behaviortkhistory"}},[this._v(this._s(this.$t("lg.jiyujilu")))]),this._v(" "),e("el-menu-item",{attrs:{index:"customQuery"}},[this._v(this._s(this.$t("lg.zidingyi")))]),this._v(" "),e("el-menu-item",{attrs:{index:"bwlist"}},[this._v(this._s(this.$t("lg.zwHeimingdan")))])],2):this._e(),this._v(" "),this.adminRoles?e("el-menu-item",{attrs:{index:"timingTask"}},[e("i",{staticClass:"fa fa-envelope"}),this._v(" "),e("span",{attrs:{slot:"title"},slot:"title"},[this._v("邮件报警")])]):this._e(),this._v(" "),this.adminRoles?e("el-menu-item",{attrs:{index:"cmonitor"}},[e("i",{staticClass:"fa fa-exchange"}),this._v(" "),e("span",{attrs:{slot:"title"},slot:"title"},[this._v("组件监控")])]):this._e(),this._v(" "),this.adminRoles?e("el-submenu",{attrs:{index:"9"}},[e("template",{slot:"title"},[e("i",{staticClass:"fa fa-users"}),this._v(" "),e("span",{attrs:{slot:"title"},slot:"title"},[this._v("系统管理")])]),this._v(" "),e("el-menu-item",{attrs:{index:"users"}},[this._v("用户管理")]),this._v(" "),e("el-menu-item",{attrs:{index:"lockedAccounts"}},[this._v("锁定账号管理")]),this._v(" "),e("el-menu-item",{attrs:{index:"updateui"}},[this._v("系统更新")]),this._v(" "),e("el-menu-item",{attrs:{index:"logbackup"}},[this._v("日志备份设置")]),this._v(" "),e("el-menu-item",{attrs:{index:"firewall"}},[this._v("防火墙配置")]),this._v(" "),e("el-menu-item",{attrs:{index:"license"}},[this._v("License管理")]),this._v(" "),e("el-menu-item",{attrs:{index:"mailnotify"}},[this._v("邮件管理")]),this._v(" "),e("el-menu-item",{attrs:{index:"ntpmsg"}},[this._v("ntp配置管理")]),this._v(" "),e("el-menu-item",{attrs:{index:"radiusmsg"}},[this._v("radius配置管理")]),this._v(" "),e("el-menu-item",{attrs:{index:"tacacsmsg"}},[this._v("tacacs配置管理")]),this._v(" "),e("el-menu-item",{attrs:{index:"syslogmsg"}},[this._v("syslog配置管理")]),this._v(" "),e("el-menu-item",{attrs:{index:"snmpmsg"}},[this._v("snmp配置管理")])],2):this._e()],1)],1)],1)},staticRenderFns:[]};var c=s("VU/8")(l,h,!1,function(t){s("ZZ/N")},"data-v-3dbf8c07",null).exports,u={created:function(){this.$store.state.refreshTimeout&&clearTimeout(this.$store.state.refreshTimeout),-1!==this.atRefreshPathArr.indexOf(this.$route.path)?this.isShowAutoRefresh=!0:this.isShowAutoRefresh=!1,this.$store.commit(i.j)},watch:{"$route.path":{handler:function(t,e){this.$store.state.refreshFalg=!1,clearTimeout(this.$store.state.refreshTimeout),this.autoRrefreshVal=0,-1!==this.atRefreshPathArr.indexOf(this.$route.path)?this.isShowAutoRefresh=!0:this.isShowAutoRefresh=!1,window.location.hash.includes("dashboard")?this.pickerOptions.shortcuts=[{text:this.$t("lg.last1hour"),onClick:function(t){var e=new Date,s=new Date;s.setTime(s.getTime()-36e5),t.$emit("pick",[s,e])}},{text:this.$t("lg.last1day"),onClick:function(t){var e=new Date,s=new Date;s.setTime(s.getTime()-864e5),t.$emit("pick",[s,e])}},{text:this.$t("lg.last1week"),onClick:function(t){var e=new Date,s=new Date;s.setTime(s.getTime()-6048e5),t.$emit("pick",[s,e])}}]:this.pickerOptions.shortcuts=[{text:this.$t("lg.last1hour"),onClick:function(t){var e=new Date,s=new Date;s.setTime(s.getTime()-36e5),t.$emit("pick",[s,e])}},{text:this.$t("lg.last1day"),onClick:function(t){var e=new Date,s=new Date;s.setTime(s.getTime()-864e5),t.$emit("pick",[s,e])}},{text:this.$t("lg.last1week"),onClick:function(t){var e=new Date,s=new Date;s.setTime(s.getTime()-6048e5),t.$emit("pick",[s,e])}},{text:this.$t("lg.last1month"),onClick:function(t){var e=new Date,s=new Date;s.setTime(s.getTime()-2592e6),t.$emit("pick",[s,e])}},{text:this.$t("lg.last3month"),onClick:function(t){var e=new Date,s=new Date;s.setTime(s.getTime()-7776e6),t.$emit("pick",[s,e])}}]},immediate:!0},autoRrefreshVal:function(){var t=(new Date).getTime();if(this.$store.state.nowTimeVal=[new Date(t-this.intervalTime),new Date(t)],clearTimeout(this.$store.state.refreshTimeout),0==this.autoRrefreshVal)return!1;this.startAutoRefresh()}},data:function(){return{dateoptions:[{value:"last1hour",label:"过去1小时"},{value:"last3hour",label:"过去3小时"},{value:"last1day",label:"过去1天"},{value:"last1week",label:"过去1周"},{value:"last1month",label:"过去1个月"}],value:"last1day",isShowAutoRefresh:!0,autoRrefreshVal:0,autoRrefreshOpt:[{value:0,label:"off"},{value:1e4,label:"10s"},{value:3e4,label:"30s"},{value:6e4,label:"1m"},{value:3e5,label:"5m"}],intervalTime:864e5,atRefreshPathArr:["/visit","/attack","/dashboard","/visitChart","/attackChart","/apiChart","/customChartGridLayout"],pickerOptions:{disabledDate:function(t){return window.location.hash.includes("dashboard")?t.getTime()<new Date((new Date).getTime()-6048e5).getTime()||t.getTime()>Date.now():t.getTime()>Date.now()},shortcuts:[{text:this.$t("lg.last1hour"),onClick:function(t){var e=new Date,s=new Date;s.setTime(s.getTime()-36e5),t.$emit("pick",[s,e])}},{text:this.$t("lg.last1day"),onClick:function(t){var e=new Date,s=new Date;s.setTime(s.getTime()-864e5),t.$emit("pick",[s,e])}},{text:this.$t("lg.last1week"),onClick:function(t){var e=new Date,s=new Date;s.setTime(s.getTime()-6048e5),t.$emit("pick",[s,e])}},{text:this.$t("lg.last1month"),onClick:function(t){var e=new Date,s=new Date;s.setTime(s.getTime()-2592e6),t.$emit("pick",[s,e])}},{text:this.$t("lg.last3month"),onClick:function(t){var e=new Date,s=new Date;s.setTime(s.getTime()-7776e6),t.$emit("pick",[s,e])}}]}}},methods:{selectDatetime:function(t){var e=new Date,s=new Date;e="last1hour"==t?e.getTime()-36e5:"last3hour"==t?e.getTime()-108e5:"last1day"==t?e.getTime()-864e5:"last1week"==t?e.getTime()-6048e5:e.getTime()-2592e6,e=new Date(e),this.$store.state.nowTimeVal=[e,s],this.$store.commit(i.j)},startAutoRefresh:function(){var t,e=this,s=new Date;s="last1hour"==e.value?s.getTime()-36e5:"last3hour"==e.value?s.getTime()-108e5:"last1day"==e.value?s.getTime()-864e5:"last1week"==e.value?s.getTime()-6048e5:s.getTime()-2592e6,s=new Date(s),e.$store.state.refreshTimeout=setTimeout(function(){e.$store.state.refreshFalg=!0,t=(new Date).getTime(),e.$store.state.nowTimeVal=[s,new Date(t)],e.startAutoRefresh(),e.$store.commit(i.j)},e.autoRrefreshVal)},setMyTime:function(t){this.$store.state.refreshFalg=!1;var e=t[0],s=t[1],a=(new Date).getTime(),o=new Date(s).getTime(),r=s-e;r>7776e6&&(t[1]=e.getTime()+7776e6,this.$message.error("选择时间间隔不能超过3个月")),this.intervalTime=r,this.autoRrefreshVal=0,36e5==r&&a-o<1e3&&a-o>=0||864e5==r&&a-o<1e3&&a-o>=0||6048e5==r&&a-o<1e3&&a-o>=0||2592e6==r&&a-o<1e3&&a-o>=0||7776e6==r&&a-o<1e3&&a-o>=0?this.$store.state.refreshAble=!1:(this.$store.state.refreshAble=!0,clearTimeout(this.$store.state.refreshTimeout)),this.$store.commit(i.j)}},beforeRouteLeave:function(t,e,s){clearTimeout(this.$store.state.refreshTimeout),s()}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"date-wrapper"},[s("el-select",{staticStyle:{width:"114px"},attrs:{placeholder:"请选择"},on:{change:t.selectDatetime},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.dateoptions,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),t.isShowAutoRefresh?s("div",{staticClass:"autoRefreshBox"},[s("img",{staticClass:"atRefImg",attrs:{src:"static/icon/autoRefresh.png",alt:"自动刷新"}}),t._v(" "),s("el-select",{attrs:{placeholder:t.$t("lg.select"),disabled:t.$store.state.refreshAble},model:{value:t.autoRrefreshVal,callback:function(e){t.autoRrefreshVal=e},expression:"autoRrefreshVal"}},t._l(t.autoRrefreshOpt,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1):t._e()],1)},staticRenderFns:[]};var m={components:{sddate:s("VU/8")(u,d,!1,function(t){s("7A8r")},null,null).exports},created:function(){this.selectValue=void 0==localStorage.lang?"cn":localStorage.lang,this.$store.commit(i.f),this.$store.commit(i.e)},computed:{username:function(){return this.$store.state.user.name||sessionStorage.getItem("myname")}},data:function(){return{licenceinfo:{},selectValue:"",options:[{value:"cn",label:"中文"},{value:"en",label:"English"}],checked:!1}},methods:{toggleMenu:function(){this.$emit("toggleMenu")},toggleRefresh:function(){location.reload()},handleUserCommand:function(t){var e={logout:this.logout};this.$nextTick(function(){e[t]()})},logout:function(){var t=this,e=a.b+"uaa/logout";n.a.create().post(e,{},{headers:{Authorization:"Bearer "+sessionStorage.getItem("mytoken")}}).then(function(e){200===e.status?t.$store.commit(i.h):t.$message.error("退出失败，请重试")}).catch(function(e){t.$store.commit(i.h)})},transformDate:function(t){function e(t){return t<10?"0"+t:t}return(t=new Date(t)).getFullYear()+"-"+e(parseInt(t.getMonth())+1)+"-"+e(t.getDate())},langChange:function(t){this.$router.go(0),localStorage.setItem("lang",t),this.$i18n.locale=t}}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"headerContainer"},[e("div",{staticClass:"header-mgt"},[e("ul",{staticClass:"header-mgt-left"},[e("li",{staticClass:"cursor-pointer",on:{click:this.toggleMenu}},[e("i",{class:this.$store.state.isMenuShow?"fa fa-indent":"fa fa-dedent"})]),this._v(" "),e("li",{staticClass:"cursor-pointer",on:{click:this.toggleRefresh}},[e("i",{staticClass:"fa fa-refresh"})])]),this._v(" "),e("ul",{staticClass:"header-mgt-right"},[e("li",[e("sddate")],1),this._v(" "),e("li",{staticClass:"cursor-pointer"},[e("el-dropdown",{on:{command:this.handleUserCommand}},[e("span",{staticClass:"el-dropdown-link"},[this._v(this._s(this.username)),e("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),this._v(" "),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{command:"logout"}},[this._v("退出登录")])],1)],1)],1)])]),this._v(" "),e("div",{staticClass:"header-info"},[e("span",{style:[{color:this.$store.state.licenceinfo.istobeexpired?"red":"#4a5166"},{marginRight:this.$store.state.licenceinfo.istobeexpired?0:"6px"}],attrs:{title:this.$store.state.licenceinfo.istobeexpired?"Licence即将过期":"Licence有效"}},[this._v("授权日期: "+this._s(this.transformDate(this.$store.state.licenceinfo.expireDate)))]),this._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:this.$store.state.licenceinfo.istobeexpired,expression:"$store.state.licenceinfo.istobeexpired"}]},[e("i",{staticClass:"el-icon-bell",staticStyle:{color:"red","font-weight":"800"},attrs:{title:"Licence即将过期"}})]),this._v(" "),e("span",[this._v("授权状态: "+this._s(!0===this.$store.state.licenceinfo.licenseValid?this.$t("lg.youxiao"):this.$t("lg.wuxiao")))]),this._v(" "),e("span",[this._v("授权节点数: "+this._s(this.$store.state.licenceinfo.shadowInstances||0))]),this._v(" "),e("span",[this._v("当前节点数: "+this._s(this.$store.state.licenceinfo.currentShadowInstances||0))]),this._v(" "),e("span",[this._v("授权域名数: "+this._s(this.$store.state.licenceinfo.domainLimit||0))]),this._v(" "),e("span",[this._v("当前域名数: "+this._s(this.$store.state.licenceinfo.currentDomains||0))])])])},staticRenderFns:[]};var v=s("VU/8")(m,f,!1,function(t){s("Jje/")},"data-v-54b6cc33",null).exports,g=s("NHnr"),p={data:function(){return{resVisibleTime:60,loginTimeOut:null}},watch:{"$store.state.loginResShow":function(){this.$store.state.loginResShow?this.loginInterval():(this.loginTimeOut&&clearInterval(this.loginTimeOut),this.loginTimeOut=null)}},methods:{loginInterval:function(){var t=this;this.loginTimeOut=setInterval(function(){t.resVisibleTime--,console.log(t.resVisibleTime),0==t.resVisibleTime&&(t.$store.state.restrictFlag=!0,t.exitLogin())},1e3)},continueLogin:function(){var t=this;t.$store.state.loginResShow=!1,clearInterval(t.loginTimeOut),t.loginTimeOut=null,t.resVisibleTime=60,Object(g.showConfirm)();var e=sessionStorage.getItem("refresh_token"),s=a.b+"uaa/oauth/token?refresh_token="+e+"&grant_type=refresh_token";n.a.create().post(s,{},{headers:{Authorization:"Basic VUk6V0VScU0zWnVORFIxZEhWQw=="}}).then(function(e){200==e.status&&t.$store.commit(i.g,e.data)}).catch(function(e){alert("请求出错,请重新登录"),t.$store.commit(i.h)})},exitLogin:function(){this.$store.state.loginResShow=!1,clearInterval(this.loginTimeOut),this.loginTimeOut=null,this.resVisibleTime=60,this.$store.commit(i.h)},handleClose:function(t){t()}}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-dialog",{attrs:{title:"登出提示",visible:t.$store.state.loginResShow,width:"25%","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"before-close":t.handleClose},on:{"update:visible":function(e){t.$set(t.$store.state,"loginResShow",e)}}},[s("p",{staticClass:"loginResTxt"},[t._v("程序将在"+t._s(t.resVisibleTime)+"秒后退出登录")]),t._v(" "),s("div",{staticClass:"text-right"},[s("el-button",{on:{click:t.exitLogin}},[t._v("退出登录")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.continueLogin}},[t._v("继续访问")])],1)])],1)},staticRenderFns:[]};var w=s("VU/8")(p,_,!1,function(t){s("Y+wQ")},null,null).exports,$=s("0dwM"),b=s("qqiS"),x={components:{vheader:v,asideMenu:c,loginRestriction:w,edituser:$.a,loading:b.a},data:function(){return{asideMenuWidth:"210px"}},methods:{toggleAsideMenu:function(){this.$store.state.isMenuShow=!this.$store.state.isMenuShow,this.asideMenuWidth=this.$store.state.isMenuShow?"65px":"210px"}}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"layout_container"},[s("el-container",[s("el-aside",{attrs:{width:t.asideMenuWidth}},[s("aside-menu")],1),t._v(" "),s("el-container",{staticClass:"right-container"},[s("el-header",[s("vheader",{on:{toggleMenu:t.toggleAsideMenu}})],1),t._v(" "),s("el-main",[t.$store.state.contentLoading?s("loading",{staticClass:"main-loading-c"}):t._e(),t._v(" "),s("router-view")],1)],1)],1),t._v(" "),s("loginRestriction"),t._v(" "),s("edituser",{attrs:{isPwdShow:t.$store.state.showEditUsersPswdDialog,userData:t.$store.state.userInfo},on:{editPwdclose:function(e){t.$store.state.showEditUsersPswdDialog=!1}}})],1)},staticRenderFns:[]};var k=s("VU/8")(x,T,!1,function(t){s("YC1C")},"data-v-0ce8751c",null);e.default=k.exports},"7A8r":function(t,e){},"Jje/":function(t,e){},"Y+wQ":function(t,e){},YC1C:function(t,e){},"ZZ/N":function(t,e){},"dLd/":function(t,e,s){t.exports=s.p+"static/img/logo.png"}});
//# sourceMappingURL=4.063fdd7b4283518ec49b.js.map