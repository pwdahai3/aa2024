webpackJsonp([27],{DZIO:function(t,e){},mvk4:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("mtWM"),a=s.n(i),n=(s("5reh"),s("qqiS"),s("yJCr")),o={created:function(){this.licenseToken()},data:function(){return{uploadheader:{Authorization:"Bearer "+sessionStorage.getItem("mytoken")},fileList:[],uploadActionUri:n.b+"pe/upload/license",rootokenlicenseData:""}},methods:{licenseToken:function(){var t=this;t.$store.state.contentLoading=!0;var e=n.b+"pe/license/token";a.a.get(e).then(function(e){0==e.data.responseCode&&(t.$store.state.contentLoading=!1,t.rootokenlicenseData=e.data.data)}).catch(function(t){console.log(t)})},authUploadfileClose:function(){this.fileList=[],this.$emit("authuploadfileclose")},beforeupload:function(t){var e=t.name;if(e)return"application-license.yml"==e||(this.$message.error(this.$t("lg.applicationlicense")),!1)},submitUpload:function(t){this.$refs.upload.submit()},onsuccess:function(t,e,s){0==t.responseCode?(this.$message({type:"success",message:this.$t("lg.success")}),this.licenseToken(),this.fileList=[]):this.$message.error(this.$t("lg.failed")+": "+t.reason)},downloadToken:function(){},handleRemove:function(t,e){},handlePreview:function(t){}}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"license-wrapper"},[e("div",{staticClass:"license-file"},[e("p",{staticClass:"license-tip"},[this._v(this._s(this.$t("lg.authorization")))]),this._v(" "),e("div",{staticClass:"grid-content"},[e("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{headers:this.uploadheader,"before-upload":this.beforeupload,action:this.uploadActionUri,"on-preview":this.handlePreview,"on-remove":this.handleRemove,"on-success":this.onsuccess,"file-list":this.fileList}},[e("el-button",{staticClass:"el-icon-upload",attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[this._v("  "+this._s(this.$t("lg.selectfile")))]),this._v(" "),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[this._v(this._s(this.$t("lg.applicationlicense")))])],1)],1)]),this._v(" "),e("div",{staticClass:"license-token"},[e("p",{staticClass:"license-tip"},[this._v(this._s(this.$t("lg.authtoken")))]),this._v(" "),e("div",{staticClass:"token-txt"},[""==this.rootokenlicenseData?e("p",{staticClass:"empTip"},[this._v(this._s(this.$t("lg.nodata")))]):this._e(),this._v("\n      "+this._s(this.rootokenlicenseData)+"\n      ")])])])},staticRenderFns:[]};var c=s("VU/8")(o,l,!1,function(t){s("DZIO")},"data-v-d12b73c0",null);e.default=c.exports}});
//# sourceMappingURL=27.ca302a7edcdb78028eed.js.map