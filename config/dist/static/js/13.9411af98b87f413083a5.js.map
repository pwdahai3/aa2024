{"version":3,"sources":["webpack:///src/components/login/slider2.vue","webpack:///./src/components/login/slider2.vue?3733","webpack:///./src/components/login/slider2.vue","webpack:///src/components/login/login.vue","webpack:///./src/components/login/login.vue?6763","webpack:///./src/components/login/login.vue"],"names":["slider2","Boolean","Number","String","dragVerify","textColor","handlerBg","text","background","radius","progressBarBg","circle","this","height","textSize","handler","x","e","pageX","touches","parseInt","style","left","replace","width","passVerify","successIcon","completedBg","data","key","message","handlerIcon","login_slider2","render","_h","$createElement","_c","_self","ref","staticClass","on","mousemove","dragMoving","mouseup","dragFinish","mouseleave","touchmove","touchend","class","goFirst2","isOk","_v","$slots","_t","_e","_s","goFirst","mousedown","dragStart","touchstart","staticRenderFns","components_login_slider2","__webpack_require__","normalizeComponent","ssrContext","Base64","login","getProductname","productName","required","trigger","reset","_this2","resData","pwd","then","res","_this","_this3","name","userName","Date","activeTime","err","login_login","_vm","attrs","model","loginform","rules","loginformRules","label-position","label-width","prop","placeholder","nativeOn","keyup","$event","_k","keyCode","loginSubmit","value","callback","$$v","$set","trim","expression","type","successText","isPassing","update:isPassing","passcallback","passcallback2","staticStyle","click","login_Component","login_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/13.9411af98b87f413083a5.js","sourcesContent":["<template>\r\n    <div ref=\"dragVerify\" class=\"drag_verify\" :style=\"dragVerifyStyle\" @mousemove=\"dragMoving\" @mouseup=\"dragFinish\" @mouseleave=\"dragFinish\" @touchmove=\"dragMoving\" @touchend=\"dragFinish\">\r\n    <div class=\"dv_progress_bar\" :class=\"{goFirst2:isOk}\" ref=\"progressBar\" :style=\"progressBarStyle\"></div>\r\n    <div class=\"dv_text\" :style=\"textStyle\" ref=\"message\">\r\n        <slot name=\"textBefore\" v-if=\"$slots.textBefore\" ></slot>\r\n            {{message}}\r\n            <slot name=\"textAfter\" v-if=\"$slots.textAfter\"></slot>\r\n        </div>\r\n        <div class=\"dv_handler dv_handler_bg\" :class=\"{goFirst:isOk}\" @mousedown=\"dragStart\" @touchstart=\"dragStart\" ref=\"handler\" :style=\"handlerStyle\">\r\n            <i :class=\"handlerIcon\"></i>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: \"dragVerify\",\r\n    props: {\r\n        isPassing: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        width: {\r\n            type: Number,\r\n            default: 380\r\n        },\r\n        height: {\r\n            type: Number,\r\n            default: 40\r\n        },\r\n        text: {\r\n            type: String,\r\n            default: \"swiping to the right side\"\r\n        },\r\n        successText: {\r\n            type: String,\r\n            default: \"success\"\r\n        },\r\n        background: {\r\n            type: String,\r\n            default: \"#eee\"\r\n        },\r\n        progressBarBg: {\r\n            type: String,\r\n            default: \"#76c61d\"\r\n        },\r\n        completedBg: {\r\n            type: String,\r\n            default: \"#76c61d\"\r\n        },\r\n        circle: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        radius: {\r\n            type: String,\r\n            default: \"4px\"\r\n        },\r\n        handlerIcon: {\r\n            type: String\r\n        },\r\n        successIcon: {\r\n            type: String\r\n        },\r\n        handlerBg: {\r\n            type: String,\r\n            default: \"#e8e8e8\"\r\n        },\r\n        textSize: {\r\n            type: String,\r\n            default: \"14px\"\r\n        },\r\n        textColor: {\r\n            type: String,\r\n            default: \"#333\"\r\n        }\r\n    },\r\n    mounted: function() {\r\n        const dragEl = this.$refs.dragVerify;\r\n        dragEl.style.setProperty(\"--textColor\", this.textColor);\r\n        dragEl.style.setProperty(\"--width\", Math.floor(this.width / 2) + \"px\");\r\n        dragEl.style.setProperty(\"--pwidth\", -Math.floor(this.width / 2) + \"px\");\r\n        // console.log(this.$slots);\r\n    },\r\n    computed: {\r\n        handlerStyle: function() {\r\n            return {\r\n                left: \"0px\",\r\n                width: this.height + \"px\",\r\n                height: this.height + \"px\",\r\n                background: this.handlerBg\r\n            };\r\n        },\r\n        message: function() {\r\n            return this.isPassing ? this.successText : this.text;\r\n        },\r\n        dragVerifyStyle: function() {\r\n            return {\r\n                width: this.width + \"px\",\r\n                height: this.height + \"px\",\r\n                lineHeight: this.height + \"px\",\r\n                background: this.background,\r\n                borderRadius: this.circle ? this.height / 2 + \"px\" : this.radius\r\n            };\r\n        },\r\n        progressBarStyle: function() {\r\n            return {\r\n                background: this.progressBarBg,\r\n                height: this.height + \"px\",\r\n                borderRadius: this.circle\r\n                ? this.height / 2 + \"px 0 0 \" + this.height / 2 + \"px\"\r\n                : this.radius\r\n            };\r\n        },\r\n        textStyle: function() {\r\n            return {\r\n                height: this.height + \"px\",\r\n                width: this.width + \"px\",\r\n                fontSize: this.textSize\r\n            };\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n        isMoving: false,\r\n        x: 0,\r\n        isOk: false\r\n        };\r\n    },\r\n    methods: {\r\n        dragStart: function(e) {\r\n        if (!this.isPassing) {\r\n            this.isMoving = true;\r\n            var handler = this.$refs.handler;\r\n            this.x =\r\n            (e.pageX || e.touches[0].pageX) -\r\n            parseInt(handler.style.left.replace(\"px\", \"\"), 10);\r\n        }\r\n        this.$emit(\"handlerMove\");\r\n        },\r\n        dragMoving: function(e) {\r\n            if (this.isMoving && !this.isPassing) {\r\n                var _x = (e.pageX || e.touches[0].pageX) - this.x;\r\n                var handler = this.$refs.handler;\r\n                if (_x > 0 && _x <= this.width - this.height) {\r\n                handler.style.left = _x + \"px\";\r\n                this.$refs.progressBar.style.width = _x + this.height / 2 + \"px\";\r\n                } else if (_x > this.width - this.height) {\r\n                handler.style.left = this.width - this.height + \"px\";\r\n                this.$refs.progressBar.style.width =\r\n                    this.width - this.height / 2 + \"px\";\r\n                this.passVerify();\r\n                }\r\n            }\r\n        },\r\n        dragFinish: function(e) {\r\n            if (this.isMoving && !this.isPassing) {\r\n                var _x = (e.pageX || e.changedTouches[0].pageX) - this.x;\r\n                if (_x < this.width - this.height) {\r\n                this.isOk = true;\r\n                var that = this;\r\n                setTimeout(function() {\r\n                    that.$refs.handler.style.left = \"0\";\r\n                    that.$refs.progressBar.style.width = \"0\";\r\n                    that.isOk = false;\r\n                }, 500);\r\n                } else {\r\n                var handler = this.$refs.handler;\r\n                handler.style.left = this.width - this.height + \"px\";\r\n                this.$refs.progressBar.style.width =\r\n                    this.width - this.height / 2 + \"px\";\r\n                this.passVerify();\r\n                }\r\n                this.isMoving = false;\r\n            }\r\n        },\r\n        passVerify: function() {\r\n            this.$emit(\"update:isPassing\", true);\r\n            this.isMoving = false;\r\n            var handler = this.$refs.handler;\r\n            handler.children[0].className = this.successIcon;\r\n            this.$refs.progressBar.style.background = this.completedBg;\r\n            this.$refs.message.style[\"-webkit-text-fill-color\"] = \"unset\";\r\n            this.$refs.message.style.animation = \"slidetounlock2 3s infinite\";\r\n            this.$refs.message.style.color = \"#fff\";\r\n            this.$emit(\"passcallback\");\r\n        },\r\n        reset: function() {\r\n            const oriData = this.$options.data();\r\n            for (const key in oriData) {\r\n                if (oriData.hasOwnProperty(key)) {\r\n                this.$set(this, key, oriData[key]);\r\n                }\r\n            }\r\n            var handler = this.$refs.handler;\r\n            var message = this.$refs.message;\r\n            handler.style.left = \"0\";\r\n            this.$refs.progressBar.style.width = \"0\";\r\n            handler.children[0].className = this.handlerIcon;\r\n            message.style[\"-webkit-text-fill-color\"] = \"transparent\";\r\n            message.style.animation = \"slidetounlock 3s infinite\";\r\n            message.style.color = this.background;\r\n        }\r\n    }\r\n};\r\n</script>\r\n<style scoped>\r\n    .drag_verify {\r\n        position: relative;\r\n        background-color: #e8e8e8;\r\n        text-align: center;\r\n        overflow: hidden;\r\n        width: 100%;\r\n    }\r\n    .drag_verify .dv_handler {\r\n        position: absolute;\r\n        top: 0px;\r\n        left: 0px;\r\n        cursor: move;\r\n    }\r\n    .drag_verify .dv_handler i {\r\n        color: #666;\r\n        padding-left: 0;\r\n        font-size: 16px;\r\n    }\r\n    .drag_verify .dv_handler .el-icon-circle-check {\r\n        color: #6c6;\r\n        margin-top: 9px;\r\n    }\r\n    .drag_verify .dv_progress_bar {\r\n        position: absolute;\r\n        height: 34px;\r\n        width: 0px;\r\n    }\r\n    .drag_verify .dv_text {\r\n        position: absolute;\r\n        top: 0px;\r\n        color: transparent;\r\n        -moz-user-select: none;\r\n        -webkit-user-select: none;\r\n        user-select: none;\r\n        -o-user-select: none;\r\n        -ms-user-select: none;\r\n        background: -webkit-gradient(\r\n            linear,\r\n            left top,\r\n            right top,\r\n            color-stop(0, var(--textColor)),\r\n            color-stop(0.4, var(--textColor)),\r\n            color-stop(0.5, #fff),\r\n            color-stop(0.6, var(--textColor)),\r\n            color-stop(1, var(--textColor))\r\n        );\r\n        background-clip: text;\r\n        -webkit-background-clip: text;\r\n        -webkit-text-fill-color: transparent;\r\n        -webkit-text-size-adjust: none;\r\n        animation: slidetounlock 3s infinite;\r\n        }\r\n    .drag_verify .dv_text * {\r\n        -webkit-text-fill-color: var(--textColor);\r\n    }\r\n    .goFirst {\r\n        left: 0px !important;\r\n        transition: left 0.5s;\r\n    }\r\n    .goFirst2 {\r\n        width: 0px !important;\r\n        transition: width 0.5s;\r\n    }\r\n</style>\r\n<style>\r\n    @keyframes slidetounlock {\r\n        0% {\r\n            background-position: var(--pwidth) 0;\r\n        }\r\n        100% {\r\n            background-position: var(--width) 0;\r\n        }\r\n    }\r\n    @keyframes slidetounlock2 {\r\n        0% {\r\n            background-position: var(--pwidth) 0;\r\n        }\r\n        100% {\r\n            background-position: var(--pwidth) 0;\r\n        }\r\n    }\r\n    @-webkit-keyframes slidetounlock {\r\n        0% {\r\n            background-position: var(--pwidth) 0;\r\n        }\r\n        100% {\r\n            background-position: var(--width) 0;\r\n        }\r\n    }\r\n    @-webkit-keyframes slidetounlock2 {\r\n        0% {\r\n            background-position: var(--pwidth) 0;\r\n        }\r\n        100% {\r\n            background-position: var(--pwidth) 0;\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/login/slider2.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"dragVerify\",staticClass:\"drag_verify\",style:(_vm.dragVerifyStyle),on:{\"mousemove\":_vm.dragMoving,\"mouseup\":_vm.dragFinish,\"mouseleave\":_vm.dragFinish,\"touchmove\":_vm.dragMoving,\"touchend\":_vm.dragFinish}},[_c('div',{ref:\"progressBar\",staticClass:\"dv_progress_bar\",class:{goFirst2:_vm.isOk},style:(_vm.progressBarStyle)}),_vm._v(\" \"),_c('div',{ref:\"message\",staticClass:\"dv_text\",style:(_vm.textStyle)},[(_vm.$slots.textBefore)?_vm._t(\"textBefore\"):_vm._e(),_vm._v(\"\\n        \"+_vm._s(_vm.message)+\"\\n        \"),(_vm.$slots.textAfter)?_vm._t(\"textAfter\"):_vm._e()],2),_vm._v(\" \"),_c('div',{ref:\"handler\",staticClass:\"dv_handler dv_handler_bg\",class:{goFirst:_vm.isOk},style:(_vm.handlerStyle),on:{\"mousedown\":_vm.dragStart,\"touchstart\":_vm.dragStart}},[_c('i',{class:_vm.handlerIcon})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-eaf477f4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/login/slider2.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-eaf477f4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./slider2.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-eaf477f4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./slider2.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./slider2.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./slider2.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-eaf477f4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./slider2.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-eaf477f4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login/slider2.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"login-wrapper\">\r\n    <div class=\"login-content\">\r\n      <el-form ref=\"loginform\" :model=\"loginform\" :rules=\"loginformRules\" label-position=\"left\" label-width=\"0px\">\r\n        <!-- <h3 class=\"title\">讯安Web动态防御平台登录</h3> -->\r\n        <h3 class=\"title\">{{productName}}登录</h3>\r\n          <el-form-item prop=\"name\">\r\n            <el-input v-model.trim=\"loginform.name\" placeholder=\"请输入用户名\" @keyup.enter.native=\"loginSubmit('loginform')\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"pwd\">\r\n            <el-input v-model.trim=\"loginform.pwd\" type=\"password\" placeholder=\"请输入密码\" @keyup.enter.native=\"loginSubmit('loginform')\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <!-- <slider ref=\"slider\"></slider> -->\r\n            <slider2\r\n              ref=\"dragVerify\"\r\n              :width=\"380\"\r\n              :height=\"40\"\r\n              progressBarBg=\"#FFA500\"\r\n              background=\"#F5F5F5\"\r\n              text=\"请按住滑块拖动\"\r\n              successText=\"验证通过\"\r\n              :isPassing.sync=\"isPassing\"\r\n              handlerIcon=\"el-icon-d-arrow-right\"\r\n              successIcon=\"el-icon-circle-check\"\r\n              @passcallback=\"passcallback2\">\r\n          </slider2>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" style=\"width:100%;\" @click=\"loginSubmit('loginform')\">登录</el-button>\r\n          </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport * as types from '@/store/types';\r\n// import CryptoJS from 'crypto-js';//3des\r\n// import {JSEncrypt} from 'jsencrypt';//rsa\r\nimport axios from 'axios';\r\nlet Base64 = require('js-base64').Base64;\r\nimport {SERVER_API_URL,SERVER_API_URL2} from '@/conf/constvar';\r\nimport store from '../../store/store';\r\nimport slider2 from './slider2'\r\nexport default {\r\n  created(){\r\n    if(!this.productName){\r\n      this.getProductname();\r\n    }\r\n  },\r\n  components:{\r\n    slider2\r\n  },\r\n  data(){\r\n    return{\r\n      isPassing:false,\r\n      productName:store.state.productName,\r\n      loginform:{\r\n        name:'',\r\n        pwd:''\r\n      },\r\n      loginformRules:{\r\n        name: [\r\n          { required: true, message: '请输入用户名', trigger: 'blur' },\r\n        ],\r\n        pwd: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' },\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    reset() {\r\n        this.isPassing = false;\r\n        if(this.$refs.dragVerify != undefined){\r\n          this.$refs.dragVerify.reset();\r\n        }\r\n      },\r\n    passcallback2() {\r\n        this.isPassing=true;\r\n      },\r\n    getProductname(){\r\n      let url=SERVER_API_URL2+'pe/shadow/kv/productName';\r\n      axios.get(url).then((res)=>{\r\n        if(res.data.responseCode==0){\r\n          let resData=res.data.data;\r\n          this.productName=resData;\r\n          document.title = this.productName;\r\n          this.$store.state.productName=resData;\r\n        }\r\n      })\r\n    },\r\n    loginSubmit(formname){//先进行3des加密，在对3des加密后的key+密文长度进行rsa加密 // {\"login\": \"base64(rsa(key + len))) + base64(3des(user|passwd|timestamp))\"}\r\n      \r\n      // if(this.$refs['slider']) {\r\n      //   if (!this.$refs['slider'].confirmSuccess) {\r\n      //         this.$message.error(\"请拖动滑块验证\");\r\n      //         return;\r\n      //     }\r\n      // }\r\n      // 通过验证后提交\r\n      // TO DO ...\r\n    // this.$message.success(\"验证成功，可提交\");\r\n\r\n    if(!this.isPassing){\r\n      this.$message.error(\"请按住滑块拖动验证\");\r\n      return;\r\n    }\r\n      \r\n      this.$refs[formname].validate((valid) => {\r\n        if (valid) {\r\n          var password = Base64.encode(this.loginform.pwd);\r\n          var url=SERVER_API_URL+\"uaa/oauth/token?username=\"+this.loginform.name+\"&password=\"+password+\"&grant_type=password\";\r\n          const instance = axios.create();//实例化，独立于拦截器\r\n          instance.post(url,{},{\r\n            headers: {\r\n              'Authorization': 'Basic VUk6V0VScU0zWnVORFIxZEhWQw==',\r\n            }\r\n          }).then((res)=>{\r\n            // console.log(res)\r\n            const _this=this;\r\n            const userName=_this.loginform.name;\r\n            _this.$store.commit(types.LOGIN,res.data);\r\n            _this.$store.commit(types.USERNAME,userName);\r\n            _this.$store.state.nowTimeVal=[new Date(new Date().getTime()-24*60*60*1000), new Date()];\r\n            \r\n            var userUrl=SERVER_API_URL+\"uaa/user/\"+userName;//查询当前用户权限的api\r\n            axios.get(userUrl).then((res)=>{\r\n              if(res.data.responseCode==0){\r\n                sessionStorage.setItem('myRoles',res.data.data.roles[0]);//记录用户权限\r\n\r\n                if(res.data.data.roles[0]=='ADMIN' || res.data.data.roles[0]=='USER'){\r\n                  _this.$router.push({path: '/config'});\r\n                }else{\r\n                  _this.$router.push({path: '/logs'});\r\n                }\r\n\r\n                function showConfirm(){//开启定时询问弹框，第一次登陆的token到期就询问是否继续访问页面（输入用户名和密码的登陆视为第一次登陆，在loginRestriction询问弹框里点击继续访问，视为连续登陆）\r\n                  const activeTime = sessionStorage.getItem('expires_in')*1000;//每个token的有效时间\r\n                  _this.$store.state.LoginResTime=setTimeout(()=>{ \r\n                    _this.$store.state.loginResShow=true;\r\n                  },activeTime)\r\n                }\r\n                showConfirm();//登录调用一次，刷新没了\r\n\r\n                this.$nextTick(() => {\r\n                  setTimeout(()=>{\r\n                    _this.getPswdReminder(userName);\r\n                  },1000)\r\n                })\r\n                \r\n              }\r\n            }).catch((err)=>{\r\n              this.reset();\r\n              console.log(err);\r\n            });\r\n          }).catch((err)=>{\r\n            // console.log(err);\r\n            // console.log(err.response);\r\n           this.reset();\r\n            if(!err.response){\r\n              this.$message.error('服务器未响应！');\r\n            }\r\n            if(err.response && err.response.status==400){\r\n              if(err.response.data.error_description=='User account is locked'){\r\n                this.$message.error('该账户已被锁定！');\r\n              }else{\r\n                this.$message.error('用户名或密码错误');\r\n              }\r\n            }else{\r\n              this.$message.error('服务器未响应！');\r\n            }\r\n          })\r\n\r\n          // var name=this.loginform.name, pwd=this.loginform.pwd;\r\n          // //var ennamepwd=Base64.encode(name+\":\"+pwd);\r\n          // var ennamepwd=\"ac4dc1da-cc1e-4e0b-9c62-411da6f2dc70\";\r\n          // this.$store.commit(types.LOGIN,ennamepwd);\r\n          // this.$store.commit(types.USERNAME,name);\r\n          // let redirect = decodeURIComponent(this.$route.query.redirect || '/');\r\n          // this.$router.push({path: redirect});\r\n        }else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n\r\n    getPswdReminder(userName){//查询用户帐号密码修改提醒\r\n      const _this=this;\r\n      const url=SERVER_API_URL+\"uaa/user/\"+userName+\"/pswdreminder\";\r\n      axios.get(url).then((res)=>{\r\n        if(res.data.responseCode==0){\r\n          if(res.data.data.recommandPswdChange){\r\n            _this.$store.state.pswdreminder = _this.$notify({\r\n              title: '提示',\r\n              dangerouslyUseHTMLString: true,\r\n              message: \"您已经很久没有更换密码了，建议<el-button style='color: #409EFF;font-style:italic;text-decoration:underline;'>修改</el-button>\",\r\n              duration: 0,\r\n              offset: 155,\r\n              onClick:function(){ //打开修改密码弹框\r\n                _this.$store.state.userInfo={\r\n                  userName:userName\r\n                }\r\n                _this.$store.state.showEditUsersPswdDialog=true;\r\n              }\r\n            });\r\n          }\r\n        }\r\n      }).catch((err)=>{\r\n        console.log(err);\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.login-wrapper{\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color:#4a5166;\r\n  background-image: url('./bg.png');\r\n  background-position: center center;\r\n  background-repeat: no-repeat;\r\n}\r\n/* .myinput /deep/ .el-input__inner{\r\n  border-radius: 0;\r\n  height: 50px;\r\n  line-height: 50px\r\n}\r\n.myinput /deep/ .el-icon-user1{\r\n  background-image: url('./user-icon.png');\r\n  background-position: center center;\r\n  background-repeat: no-repeat;\r\n  background-size: 80%\r\n}\r\n.myinput /deep/ .el-icon-pwd1{\r\n  background-image: url('./password-icon.png');\r\n  background-position: center center;\r\n  background-repeat: no-repeat;\r\n  background-size: 80%\r\n}\r\n.myinput /deep/.el-input--prefix .el-input__inner {\r\n  padding-left: 40px;\r\n} */\r\n.login-content{\r\n  position: absolute;\r\n  right: 140px;\r\n  top: 50%;\r\n  margin-top: -200px;\r\n  width: 380px;\r\n  padding: 25px 35px 20px;\r\n  background: #57607C;\r\n}\r\n.copyr{\r\n  font-size: 12px;\r\n  text-align: center;\r\n  color: #999;\r\n}\r\n.title {\r\n  margin: 20px auto 30px auto;\r\n  text-align: center;\r\n  color: #ffffff;\r\n  font-size: 1.4em;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/login/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-wrapper\"},[_c('div',{staticClass:\"login-content\"},[_c('el-form',{ref:\"loginform\",attrs:{\"model\":_vm.loginform,\"rules\":_vm.loginformRules,\"label-position\":\"left\",\"label-width\":\"0px\"}},[_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.productName)+\"登录\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户名\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.loginSubmit('loginform')}},model:{value:(_vm.loginform.name),callback:function ($$v) {_vm.$set(_vm.loginform, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"loginform.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"pwd\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.loginSubmit('loginform')}},model:{value:(_vm.loginform.pwd),callback:function ($$v) {_vm.$set(_vm.loginform, \"pwd\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"loginform.pwd\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('slider2',{ref:\"dragVerify\",attrs:{\"width\":380,\"height\":40,\"progressBarBg\":\"#FFA500\",\"background\":\"#F5F5F5\",\"text\":\"请按住滑块拖动\",\"successText\":\"验证通过\",\"isPassing\":_vm.isPassing,\"handlerIcon\":\"el-icon-d-arrow-right\",\"successIcon\":\"el-icon-circle-check\"},on:{\"update:isPassing\":function($event){_vm.isPassing=$event},\"passcallback\":_vm.passcallback2}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.loginSubmit('loginform')}}},[_vm._v(\"登录\")])],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2018cbf4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/login/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2018cbf4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2018cbf4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2018cbf4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}