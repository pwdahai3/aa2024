{"version":3,"sources":["webpack:///src/components/users/userEdit.vue","webpack:///./src/components/users/userEdit.vue?9eaf","webpack:///./src/components/users/userEdit.vue","webpack:///src/components/users/domainDistribute.vue","webpack:///./src/components/users/domainDistribute.vue?2e7b","webpack:///./src/components/users/domainDistribute.vue","webpack:///src/components/users/userAdd.vue","webpack:///./src/components/users/userAdd.vue?3804","webpack:///src/components/users/users.vue","webpack:///./src/components/users/userAdd.vue","webpack:///./src/components/users/users.vue?afee","webpack:///./src/components/users/users.vue"],"names":["Base64","__webpack_require__","userEdit","loading","Boolean","Object","userName","_this","this","validator","callback","trigger","required","message","$t","_this2","userData","gradeValue","permission","then","res","gradeformCancel","err","password","addformCancel","resetFields","users_userEdit","render","_vm","_h","$createElement","_c","_self","attrs","width","title","visible","isPwdShow","close-on-click-modal","before-close","on","update:visible","$event","ref","model","addform","rules","addformRules","label-width","label","prop","disabled","value","$$v","$set","trim","expression","_v","type","click","editUser","directives","name","rawName","isGradeShow","gradeform","gradeformRules","placeholder","_l","item","key","staticRenderFns","Component","normalizeComponent","__webpack_exports__","domainDistribute","String","domains","resData","_this3","currentUser","domainArr","data","_this4","users_domainDistribute","isShow","resetForm","staticClass","permitDomainform","permitDomainformRules","staticStyle","margin-right","autosize","minRows","size","addPermitDomain","_s","permitDomainData","length","_e","index","href","delPermitDomain","components_users_domainDistribute","ssrContext","userAdd_Base64","userAdd","min","max","user","users_userAdd","addUser","users","adduser","userAdd_normalizeComponent","edituser","getUsers","pattern","resArray","usDialogClose","done","users_users","items","roles","distributeDomain","delUser","distributeDomainShow","distributeDomainClose","addShow","addclose","hasadduser","editPwdShow","editGradeShow","userInfo","editPwdclose","editGradeclose","getIntervalPeriod","isShowUsDialog","userSettingform","userSettingformRules","slot","setIntervalPeriod","users_Component","users_normalizeComponent"],"mappings":"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","file":"static/js/17.703a78db7b66f6876560.js","sourcesContent":["<!--修改用户权限 + 更新密码-->\r\n<template>\r\n  <div>\r\n    <el-dialog width=\"40%\" title=\"更新密码\" :visible.sync=\"isPwdShow\" :close-on-click-modal=\"false\" :before-close=\"addformCancel\">\r\n      <el-form ref=\"addform\" :model=\"addform\" :rules=\"addformRules\" label-width=\"80px\">\r\n        <el-form-item label=\"账号\" prop=\"userName\">\r\n          <el-input v-model.trim=\"addform.userName\" :disabled=\"true\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input type=\"password\" v-model.trim=\"addform.password\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码确认\" prop=\"checkPass\">\r\n          <el-input type=\"password\" v-model.trim=\"addform.checkPass\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"editUser('addform')\">确认</el-button>\r\n          <el-button @click=\"addformCancel()\">取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <loading v-show=\"userloading\" title=\"数据处理中...\"></loading>\r\n    </el-dialog>\r\n\r\n    <el-dialog width=\"40%\" title=\"修改权限\" :visible.sync=\"isGradeShow\" :close-on-click-modal=\"false\" :before-close=\"gradeformCancel\">\r\n      <el-form ref=\"gradeform\" :model=\"gradeform\" :rules=\"gradeformRules\" label-width=\"80px\">\r\n        <el-form-item label=\"账号\" prop=\"userName\">\r\n          <el-input v-model.trim=\"gradeform.userName\" :disabled=\"true\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"权限\" prop=\"gradeValue\">\r\n          <el-select v-model=\"gradeform.gradeValue\" placeholder=\"请选择权限\">\r\n            <el-option\r\n              v-for=\"item in gradeform.gradeOptions\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"editUser('gradeform')\">确认</el-button>\r\n          <el-button @click=\"gradeformCancel()\">取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <loading v-show=\"userloading\" title=\"数据处理中...\"></loading>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\nimport loading from '@/components/loading/loading';\r\nimport {SERVER_API_URL} from '@/conf/constvar';\r\nlet Base64 = require('js-base64').Base64;\r\nexport default{\r\n  components:{\r\n    loading\r\n  },\r\n  props:{\r\n    isPwdShow:{\r\n      type:Boolean\r\n    },\r\n    isGradeShow:{\r\n      type:Boolean\r\n    },\r\n    userData:{\r\n      type:Object\r\n    }\r\n  },\r\n  watch:{\r\n    \"isPwdShow\":function(){\r\n      if(this.isPwdShow && this.userData){\r\n        this.addform.userName=this.userData.userName;\r\n        this.addform.password='';\r\n        this.addform.checkPass='';\r\n      }\r\n    },\r\n    \"isGradeShow\":function(){\r\n      if(this.isGradeShow && this.userData){\r\n        this.gradeform.userName=this.userData.userName;\r\n        this.gradeform.gradeValue=this.userData.roles[0];\r\n      }\r\n    }\r\n  },\r\n  data(){\r\n    var validatePass = (rule, value, callback) => {//强密码验证\r\n          if(value===''){\r\n            callback(new Error('请输入密码'));\r\n          }else{\r\n            if(!(/^(?=.*\\d)(?=.*[a-zA-Z])[\\da-zA-Z\\-\\.\"\\\\\\*\\!\\$@\\?\\^\\(\\)<>\\{\\}\\[\\]=%\\&:;\\/~\\+#_`]{6,20}$/.test(value))){\r\n              callback(new Error('请输入6-20位长度的密码，必须含字母和数字！'));\r\n            }\r\n            if(this.addform.checkPass!==''){\r\n              this.$refs.addform.validateField('checkPass');\r\n            }\r\n            callback();\r\n          }\r\n        };\r\n    var validatePass2 = (rule, value, callback) => {\r\n          if(value===''){\r\n            callback(new Error('请再次输入密码'));\r\n          }else if(value !== this.addform.password) {\r\n            callback(new Error(this.$t('lg.nomatch')));\r\n          }else{\r\n            callback();\r\n          }\r\n        };\r\n    return{\r\n      userloading:false,\r\n      addform:{\r\n        userName:\"\",\r\n        password:'',\r\n        checkPass:'',\r\n      },\r\n      gradeform:{\r\n        userName:\"\",\r\n        gradeOptions: [\r\n          {\r\n            value: 'ADMIN',\r\n            label: 'ADMIN'\r\n          },\r\n          {\r\n            value: 'USER',\r\n            label: 'USER'\r\n          },\r\n          {\r\n            value: 'AUDIT',\r\n            label: 'AUDIT'\r\n          }\r\n        ],\r\n        gradeValue: '',\r\n      },\r\n      addformRules:{\r\n        password:[\r\n          {validator: validatePass, trigger: 'blur'},\r\n          // {required: true, message: this.$t('lg.select'), trigger: 'blur'},\r\n        ],\r\n        checkPass:[\r\n          {validator: validatePass2, trigger: 'blur'},\r\n          // {required: true, message: this.$t('lg.select'), trigger: 'blur'},\r\n        ]\r\n      },\r\n      gradeformRules:{\r\n        gradeValue:[\r\n          {required: true, message: this.$t('lg.select'), trigger: 'blur'},\r\n        ],\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    editUser(formname){\r\n      var user=this.userData;\r\n      var url=SERVER_API_URL+\"uaa/user/\"+user.userName;\r\n\r\n      this.$refs[formname].validate((valid)=>{\r\n        if(valid){\r\n          if(formname==\"gradeform\"){//修改权限\r\n            var permission = [];\r\n            permission.push(this.gradeform.gradeValue);\r\n\r\n            this.userloading=true;\r\n            axios.patch(url,{\r\n              roles:permission\r\n            }).then((res)=>{\r\n              // console.log(res)\r\n              if(res.data.responseCode==0){\r\n                this.$message({\r\n                  type: 'success',\r\n                  message: this.$t('lg.success')\r\n                });\r\n                this.$emit(\"hasadduser\");\r\n                this.gradeformCancel();\r\n              }else{\r\n                this.$message.error(this.$t('lg.failed'));\r\n              }\r\n              this.userloading=false;\r\n            }).catch((err)=>{\r\n              console.log(err)\r\n              // this.$message.error(err.data);\r\n              this.userloading=false;\r\n            });\r\n\r\n          }else{//更新密码\r\n            var password=Base64.encode(this.addform.password);\r\n            this.userloading=true;\r\n            axios.patch(url,{\r\n              password:password,\r\n            }).then((res)=>{\r\n              // console.log(res)\r\n              if(res.data.responseCode==0){\r\n                this.$message({\r\n                  type: 'success',\r\n                  message: this.$t('lg.success')\r\n                });\r\n               \r\n                if(this.$store.state.pswdreminder)this.$store.state.pswdreminder.close();//修改密码成功，关闭修改密码提示\r\n                this.addformCancel();\r\n              }else{\r\n                this.$message.error(this.$t('lg.failed'));\r\n              }\r\n              this.userloading=false;\r\n            }).catch((err)=>{\r\n              console.log(err)\r\n              // this.$message.error(err.data);\r\n              this.userloading=false;\r\n            });\r\n          }\r\n        }\r\n      })\r\n    },\r\n    addformCancel(){\r\n      this.$refs['addform'].resetFields();\r\n      this.$emit(\"editPwdclose\");\r\n    },\r\n    gradeformCancel(){\r\n      this.$refs['gradeform'].resetFields();\r\n      this.$emit(\"editGradeclose\");\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/users/userEdit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"width\":\"40%\",\"title\":\"更新密码\",\"visible\":_vm.isPwdShow,\"close-on-click-modal\":false,\"before-close\":_vm.addformCancel},on:{\"update:visible\":function($event){_vm.isPwdShow=$event}}},[_c('el-form',{ref:\"addform\",attrs:{\"model\":_vm.addform,\"rules\":_vm.addformRules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"账号\",\"prop\":\"userName\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.addform.userName),callback:function ($$v) {_vm.$set(_vm.addform, \"userName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addform.userName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.addform.password),callback:function ($$v) {_vm.$set(_vm.addform, \"password\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addform.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码确认\",\"prop\":\"checkPass\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.addform.checkPass),callback:function ($$v) {_vm.$set(_vm.addform, \"checkPass\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addform.checkPass\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.editUser('addform')}}},[_vm._v(\"确认\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.addformCancel()}}},[_vm._v(\"取消\")])],1)],1),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.userloading),expression:\"userloading\"}],attrs:{\"title\":\"数据处理中...\"}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"width\":\"40%\",\"title\":\"修改权限\",\"visible\":_vm.isGradeShow,\"close-on-click-modal\":false,\"before-close\":_vm.gradeformCancel},on:{\"update:visible\":function($event){_vm.isGradeShow=$event}}},[_c('el-form',{ref:\"gradeform\",attrs:{\"model\":_vm.gradeform,\"rules\":_vm.gradeformRules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"账号\",\"prop\":\"userName\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.gradeform.userName),callback:function ($$v) {_vm.$set(_vm.gradeform, \"userName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"gradeform.userName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"权限\",\"prop\":\"gradeValue\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择权限\"},model:{value:(_vm.gradeform.gradeValue),callback:function ($$v) {_vm.$set(_vm.gradeform, \"gradeValue\", $$v)},expression:\"gradeform.gradeValue\"}},_vm._l((_vm.gradeform.gradeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.editUser('gradeform')}}},[_vm._v(\"确认\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.gradeformCancel()}}},[_vm._v(\"取消\")])],1)],1),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.userloading),expression:\"userloading\"}],attrs:{\"title\":\"数据处理中...\"}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e8d5ce0e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/users/userEdit.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userEdit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userEdit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e8d5ce0e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./userEdit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/users/userEdit.vue\n// module id = null\n// module chunks = ","<!--域名分配管理-->\r\n<template>\r\n  <div>\r\n    <el-dialog width=\"55%\" title=\"域名分配管理\" :visible.sync=\"isShow\" :close-on-click-modal=\"false\" :before-close=\"resetForm\">\r\n      <div class=\"tips\">\r\n        <p>1、允许输入域名，多个域名请用英文字符逗号( , ) 分隔，比如abc.com,abd.com,abe.com</p>\r\n      </div>\r\n      <div class=\"orderBoxJamb\">\r\n        <el-form ref=\"permitDomainform\" :model=\"permitDomainform\" :rules=\"permitDomainformRules\" label-width=\"60px\">\r\n          <el-form-item label=\"域名\" prop=\"domains\">\r\n            <el-input type=\"textarea\" :autosize=\"{ minRows: 4 }\" v-model.trim=\"permitDomainform.domains\" style=\"width:60%;margin-right:10px\"></el-input>\r\n            <el-button type=\"primary\" size=\"mini\" @click=\"addPermitDomain('permitDomainform')\">{{$t('lg.add')}}</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <div>\r\n        <p class=\"nodata-box\" v-if=\"permitDomainData.length==0\">{{$t('lg.nodata')}}</p>\r\n        <div v-if=\"permitDomainData.length>0\" class=\"permitDomainBox\">\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>{{$t('lg.serialnumber')}}</th>\r\n                <th>可管理域名</th>\r\n                <th width=\"110\"></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"(item,index) in permitDomainData\" :key=\"index\">\r\n                <td>{{index+1}}</td>\r\n                <td>{{item}}</td>\r\n                <td class=\"text-center\">\r\n                  <!-- <a href=\"javascript:;\" class=\"edit-del-a\" @click=\"editWhiteIp(item,index)\"><i class=\"el-icon-edit-outline\"></i>{{$t('lg.edit')}}</a> -->\r\n                  <a href=\"javascript:;\" class=\"edit-del-a\" @click=\"delPermitDomain(item,index)\"><i class=\"el-icon-close\"></i>{{$t('lg.delete')}}</a>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n      <loading v-show=\"permitDomainloading\" :title=\"$t('lg.loading2')\"></loading>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\nimport loading from '@/components/loading/loading';\r\nimport {SERVER_API_URL} from '@/conf/constvar';\r\nlet Base64 = require('js-base64').Base64;\r\nexport default{\r\n  props:{\r\n    isShow:{\r\n      type:Boolean\r\n    },\r\n    currentUser:{\r\n      type:String\r\n    }\r\n  },\r\n  data(){\r\n    var validatePass = (rule, value, callback) => {\r\n        // console.log(value)\r\n        if (value === '') {\r\n          callback(new Error(this.$t('lg.required')));\r\n        } else {\r\n          const valArr = value.split(',')\r\n          for(var i=0;i<valArr.length;i++){\r\n            const valStr = valArr[i].replace(/^\\s*|\\s*$/g,\"\");//去除两侧空格\r\n            if(valStr && !(/^([\\w\\-.\" \\\\*!$@?^()<>{}[\\]=%&:;/~+#`,])+$/.test(valStr))){\r\n              callback(new Error('请输入符合规范的域名'));\r\n              break;\r\n            }\r\n          }\r\n          callback();\r\n        }\r\n      };\r\n    return{\r\n      // 增加允许操作域名\r\n      permitDomainform:{\r\n        domains:'',\r\n      },\r\n      permitDomainformRules:{\r\n        domains:[ \r\n          // {required:true, message:this.$t('lg.required'), trigger:'blur'},\r\n          { validator: validatePass, trigger: 'blur' },\r\n        ]\r\n      },\r\n\r\n      // 允许操作域名数据\r\n      permitDomainData:[],\r\n      addFlag:false,//是否第一次新增\r\n\r\n      permitDomainloading:false,\r\n    }\r\n  },\r\n  methods:{\r\n    getDistributeDomainData(userName){//获取用户可管理域名\r\n      return new Promise((resolve,reject)=>{\r\n        const url=SERVER_API_URL+'pe/shadow/user/accessdomain/'+userName;\r\n        axios.get(url).then((res)=>{\r\n          // console.log(res)\r\n          if(res.data.responseCode==0){\r\n            let resData = [];\r\n            if(res.data.data){\r\n              resData = res.data.data.domains;\r\n              this.addFlag = false;\r\n            }else{\r\n              this.addFlag = true;\r\n            }\r\n            this.permitDomainData=resData;\r\n            resolve(resData);\r\n          }\r\n        })\r\n      })\r\n    },\r\n    addPermitDomain(formname){\r\n      this.$refs[formname].validate((valid)=>{\r\n        if(valid){\r\n          var userName=this.currentUser,\r\n              domainArr=[];\r\n          const permitDomain=this.permitDomainform.domains;\r\n          domainArr=permitDomain.split(',')\r\n         \r\n          const url=SERVER_API_URL+\"pe/shadow/user/accessdomain\";\r\n          const requestMethod=this.addFlag?'post':'patch';\r\n          this.permitDomainloading=true;\r\n          axios[requestMethod](url,[{\r\n            userName:userName,\r\n            domains:domainArr,\r\n          }]).then((res)=>{\r\n            // console.log(res)\r\n            if(res.data.responseCode==0){\r\n              this.$message({\r\n                type: 'success',\r\n                message: this.$t('lg.success')\r\n              });\r\n              this.$refs['permitDomainform'].resetFields();\r\n              this.getDistributeDomainData(userName);\r\n            }else{\r\n              this.$message.error(this.$t('lg.failed'));\r\n            }\r\n            this.permitDomainloading=false;\r\n          }).catch((err)=>{\r\n            this.$message.error(err.data);\r\n            this.permitDomainloading=false;\r\n          });\r\n        }\r\n      })\r\n    },\r\n    delPermitDomain(item){\r\n      console.log(item)\r\n      const userName=this.currentUser;\r\n      const url=SERVER_API_URL+\"pe/shadow/user/accessdomain/\"+userName+\"?domainList=\"+item;\r\n      axios.delete(url).then((res)=>{\r\n        // console.log(res)\r\n        if(res.data.responseCode==0){\r\n          this.$message({\r\n            type: 'success',\r\n            message: this.$t('lg.success')\r\n          });\r\n          this.getDistributeDomainData(userName);\r\n        }\r\n      })\r\n    },\r\n    resetForm(){\r\n      this.$refs['permitDomainform'].resetFields();\r\n      this.$emit(\"distributeDomainClose\")\r\n    }\r\n  },\r\n  components:{\r\n    loading\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.permitDomainBox{\r\n  max-height: 370px;\r\n  overflow-y: auto;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/users/domainDistribute.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"width\":\"55%\",\"title\":\"域名分配管理\",\"visible\":_vm.isShow,\"close-on-click-modal\":false,\"before-close\":_vm.resetForm},on:{\"update:visible\":function($event){_vm.isShow=$event}}},[_c('div',{staticClass:\"tips\"},[_c('p',[_vm._v(\"1、允许输入域名，多个域名请用英文字符逗号( , ) 分隔，比如abc.com,abd.com,abe.com\")])]),_vm._v(\" \"),_c('div',{staticClass:\"orderBoxJamb\"},[_c('el-form',{ref:\"permitDomainform\",attrs:{\"model\":_vm.permitDomainform,\"rules\":_vm.permitDomainformRules,\"label-width\":\"60px\"}},[_c('el-form-item',{attrs:{\"label\":\"域名\",\"prop\":\"domains\"}},[_c('el-input',{staticStyle:{\"width\":\"60%\",\"margin-right\":\"10px\"},attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 4 }},model:{value:(_vm.permitDomainform.domains),callback:function ($$v) {_vm.$set(_vm.permitDomainform, \"domains\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"permitDomainform.domains\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.addPermitDomain('permitDomainform')}}},[_vm._v(_vm._s(_vm.$t('lg.add')))])],1)],1)],1),_vm._v(\" \"),_c('div',[(_vm.permitDomainData.length==0)?_c('p',{staticClass:\"nodata-box\"},[_vm._v(_vm._s(_vm.$t('lg.nodata')))]):_vm._e(),_vm._v(\" \"),(_vm.permitDomainData.length>0)?_c('div',{staticClass:\"permitDomainBox\"},[_c('table',[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t('lg.serialnumber')))]),_vm._v(\" \"),_c('th',[_vm._v(\"可管理域名\")]),_vm._v(\" \"),_c('th',{attrs:{\"width\":\"110\"}})])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.permitDomainData),function(item,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(index+1))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item))]),_vm._v(\" \"),_c('td',{staticClass:\"text-center\"},[_c('a',{staticClass:\"edit-del-a\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.delPermitDomain(item,index)}}},[_c('i',{staticClass:\"el-icon-close\"}),_vm._v(_vm._s(_vm.$t('lg.delete')))])])])}))])]):_vm._e()]),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.permitDomainloading),expression:\"permitDomainloading\"}],attrs:{\"title\":_vm.$t('lg.loading2')}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-124a6d5e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/users/domainDistribute.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-124a6d5e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./domainDistribute.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./domainDistribute.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./domainDistribute.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-124a6d5e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./domainDistribute.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-124a6d5e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/users/domainDistribute.vue\n// module id = null\n// module chunks = ","<!--增加用户-->\r\n<template>\r\n  <div>\r\n    <el-dialog width=\"40%\" :title=\"$t('lg.add')\" :visible.sync=\"isShow\" :close-on-click-modal=\"false\" :before-close=\"resetForm\">\r\n      <el-form ref=\"addform\" :model=\"addform\" :rules=\"addformRules\" label-width=\"80px\">\r\n        <el-form-item :label=\"$t('lg.account')\" prop=\"user\">\r\n          <el-input v-model.trim=\"addform.user\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item :label=\"$t('lg.permission')\" prop=\"gradeValue\">\r\n          <el-select v-model=\"addform.gradeValue\" :placeholder=\"$t('lg.select')\" >\r\n            <el-option \r\n            v-for=\"item in addform.gradeOptions\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item :label=\"$t('lg.password')\" prop=\"password\">\r\n          <el-input type=\"password\" v-model.trim=\"addform.password\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item :label=\"$t('lg.confirm')\" prop=\"checkPass\">\r\n          <el-input type=\"password\" v-model.trim=\"addform.checkPass\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"addUser('addform')\">{{$t('lg.add')}}</el-button>\r\n          <el-button @click=\"resetForm()\">{{$t('lg.cancel')}}</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <loading v-show=\"userloading\" :title=\"$t('lg.loading2')\"></loading>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\nimport loading from '@/components/loading/loading';\r\nimport {SERVER_API_URL} from '@/conf/constvar';\r\nlet Base64 = require('js-base64').Base64;\r\nexport default{\r\n  props:{\r\n    isShow:{\r\n      type:Boolean\r\n    }\r\n  },\r\n  data(){\r\n    var validatePass = (rule, value, callback) => {//强密码验证\r\n          if(value === ''){\r\n            callback(new Error('请输入密码'));\r\n          }else{\r\n            if(!(/^(?=.*\\d)(?=.*[a-zA-Z])[\\da-zA-Z\\-\\.\"\\\\\\*\\!\\$@\\?\\^\\(\\)<>\\{\\}\\[\\]=%\\&:;\\/~\\+#_`]{6,20}$/.test(value))){  // /^(?=.*\\d)(?=.*[a-zA-Z])(?=.*[~!@#$%^&*])[\\da-zA-Z~!@#$%^&*]{8,}$/    /^(.{0,5}|.{21,})$|^[^\\d]*$|^[^a-zA-Z]*$|\\s/\r\n              callback(new Error('请输入6-20位长度的密码，必须含字母和数字！'));\r\n            }\r\n            if(this.addform.checkPass !== ''){\r\n              this.$refs.addform.validateField('checkPass');\r\n            }\r\n            callback();\r\n          }\r\n        };\r\n    var validatePass2 = (rule, value, callback) => {//确认密码\r\n          if(value === ''){\r\n            callback(new Error('请再次输入密码'));\r\n          }else if(value !== this.addform.password){\r\n            callback(new Error(this.$t('lg.nomatch')));\r\n          }else{\r\n            callback();\r\n          }\r\n        };\r\n    return{\r\n      userloading:false,\r\n      addform:{\r\n        user:'',\r\n        password:'',\r\n        checkPass:'',\r\n        gradeOptions: [\r\n          {\r\n            value: 'ADMIN',\r\n            label: 'ADMIN'\r\n          },\r\n          {\r\n            value: 'USER',\r\n            label: 'USER'\r\n          },\r\n          {\r\n            value: 'AUDIT',\r\n            label: 'AUDIT'\r\n          }\r\n        ],\r\n        gradeValue: '',\r\n      },\r\n      addformRules:{\r\n        user:[ \r\n          {required:true, message:this.$t('lg.required'), trigger:'blur'},\r\n          {min: 3, max: 32, message: this.$t('lg.length332'), trigger: 'blur'},\r\n        ],\r\n        gradeValue:[\r\n          {required: true, message: this.$t('lg.required'), trigger: 'blur'},\r\n        ],\r\n        password:[\r\n          {validator: validatePass, trigger: 'blur'},\r\n          {required:true, message:this.$t('lg.required'), trigger:'blur'},\r\n        ],\r\n        checkPass: [\r\n          {validator: validatePass2, trigger: 'blur'},\r\n          {required:true, message:this.$t('lg.required'), trigger:'blur'},\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    addUser(formname){\r\n      this.$refs[formname].validate((valid)=>{\r\n        if(valid){\r\n          var user=this.addform.user,\r\n              permission = [],\r\n              password=Base64.encode(this.addform.password);\r\n              permission.push(this.addform.gradeValue);\r\n              // console.log(permission)\r\n          var url=SERVER_API_URL+\"uaa/user\";\r\n          this.userloading=true;\r\n          axios.post(url,{\r\n            userName:user,\r\n            password:password,\r\n            roles:permission\r\n          }).then((res)=>{\r\n            // console.log(res)\r\n            if(res.data.responseCode==0){\r\n              this.$emit(\"hasadduser\");\r\n              this.$message({\r\n                type: 'success',\r\n                message: this.$t('lg.success')\r\n              });\r\n              this.resetForm();\r\n            }else{\r\n              this.$message.error(this.$t('lg.failed'));\r\n            }\r\n            this.userloading=false;\r\n          }).catch((err)=>{\r\n            this.$message.error(err.data);\r\n            this.userloading=false;\r\n          });\r\n        }\r\n      })\r\n    },\r\n    resetForm(){\r\n      this.$refs['addform'].resetFields();\r\n      this.$emit(\"addclose\")\r\n    }\r\n  },\r\n  components:{\r\n    loading\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/users/userAdd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"width\":\"40%\",\"title\":_vm.$t('lg.add'),\"visible\":_vm.isShow,\"close-on-click-modal\":false,\"before-close\":_vm.resetForm},on:{\"update:visible\":function($event){_vm.isShow=$event}}},[_c('el-form',{ref:\"addform\",attrs:{\"model\":_vm.addform,\"rules\":_vm.addformRules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('lg.account'),\"prop\":\"user\"}},[_c('el-input',{model:{value:(_vm.addform.user),callback:function ($$v) {_vm.$set(_vm.addform, \"user\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addform.user\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('lg.permission'),\"prop\":\"gradeValue\"}},[_c('el-select',{attrs:{\"placeholder\":_vm.$t('lg.select')},model:{value:(_vm.addform.gradeValue),callback:function ($$v) {_vm.$set(_vm.addform, \"gradeValue\", $$v)},expression:\"addform.gradeValue\"}},_vm._l((_vm.addform.gradeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('lg.password'),\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.addform.password),callback:function ($$v) {_vm.$set(_vm.addform, \"password\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addform.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('lg.confirm'),\"prop\":\"checkPass\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.addform.checkPass),callback:function ($$v) {_vm.$set(_vm.addform, \"checkPass\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addform.checkPass\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addUser('addform')}}},[_vm._v(_vm._s(_vm.$t('lg.add')))]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.resetForm()}}},[_vm._v(_vm._s(_vm.$t('lg.cancel')))])],1)],1),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.userloading),expression:\"userloading\"}],attrs:{\"title\":_vm.$t('lg.loading2')}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-81c60a50\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/users/userAdd.vue\n// module id = null\n// module chunks = ","<!-- 用户管理列表 -->\r\n<template>\r\n  <div class=\"users-wrapper\">\r\n    <h2 class=\"breadcrumb\">{{$t('lg.yonghugl')}}</h2>\r\n    <div class=\"btn-bg\">\r\n      <el-button type=\"primary\" @click=\"addUser\">{{$t('lg.adduser')}}</el-button>\r\n    </div>\r\n    <div class=\"usersContent\">\r\n      <p class=\"nodata-box\" v-if=\"users.length==0\">{{$t('lg.nodata')}}</p>\r\n      <table v-if=\"users.length>0\">\r\n        <thead>\r\n          <tr>\r\n            <th>{{$t('lg.account')}}</th>\r\n            <th>{{$t('lg.permission')}}</th>\r\n            <th width=\"280\"></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"item in users\">\r\n            <td>{{item.userName}}</td>\r\n            <td><span v-for=\"items in item.roles\"> {{items}}</span></td>\r\n            <td class=\"text-center\">\r\n              <a href=\"javascript:;\" class=\"edit-del-a\" @click=\"distributeDomain(item.userName)\" v-show=\"item.roles=='USER'\"><i class=\"el-icon-edit\"></i>域名分配管理</a>\r\n              <a href=\"javascript:;\" class=\"edit-del-a\" @click=\"editUser(item,'editGradeShow')\"><i class=\"el-icon-edit\"></i>{{$t('lg.edit')}}</a>\r\n              <a href=\"javascript:;\" class=\"edit-del-a\" @click=\"editUser(item,'editPwdShow')\"><i class=\"el-icon-edit-outline\"></i>{{$t('lg.update')}}</a>\r\n              <a href=\"javascript:;\" class=\"edit-del-a\" @click=\"delUser(item.userName)\"><i class=\"el-icon-close\"></i>{{$t('lg.delete')}}</a>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n \r\n    <domain-distribute ref=\"domain_distribute\" :isShow=\"distributeDomainShow\" :currentUser=\"currentUser\" @distributeDomainClose=\"distributeDomainShow=false\"></domain-distribute>\r\n    <adduser :isShow=\"addShow\" @addclose=\"addShow=false\" @hasadduser=\"getUsers\"></adduser>\r\n    <edituser :isPwdShow=\"editPwdShow\" @editPwdclose=\"editPwdShow=false\" :isGradeShow=\"editGradeShow\" @editGradeclose=\"editGradeShow=false\" :userData=\"userInfo\" @hasadduser=\"getUsers\"></edituser>\r\n\r\n    <div class=\"text-right\">\r\n      <el-button type=\"primary\" @click=\"getIntervalPeriod\"> 高级设置 </el-button>\r\n    </div>\r\n    <el-dialog width=\"40%\" title=\"修改密码提醒时间间隔设置\" :visible.sync=\"isShowUsDialog\" :close-on-click-modal=\"false\" :before-close=\"usDialogClose\">\r\n      <el-form ref=\"userSettingform\" :model=\"userSettingform\" :rules=\"userSettingformRules\" class=\"usDrawerContent\" label-width=\"80px\">\r\n        <el-form-item label=\"提醒间隔\" prop=\"pwInterval\">\r\n          <el-input v-model=\"userSettingform.pwInterval\">\r\n            <template slot=\"append\">/天</template>\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"setIntervalPeriod('gradeform')\">确认</el-button>\r\n          <el-button @click=\"usDialogClose()\">取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <loading v-show=\"userSetingloading\" title=\"数据处理中...\"></loading>\r\n    </el-dialog>\r\n   \r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\nimport loading from '@/components/loading/loading';\r\nimport {SERVER_API_URL} from '@/conf/constvar';\r\nimport domainDistribute from './domainDistribute';\r\nimport adduser from './userAdd.vue';\r\nimport edituser from './userEdit.vue';\r\nexport default {\r\n  components:{\r\n    domainDistribute,\r\n    adduser,\r\n    edituser,\r\n    loading\r\n  },\r\n  created(){\r\n    this.$store.state.contentLoading=true;\r\n    this.getUsers();\r\n  },\r\n  data(){\r\n    return{\r\n      users:[],\r\n      addShow:false,\r\n\r\n      editPwdShow:false,\r\n      editGradeShow:false,\r\n      userInfo:{},\r\n\r\n      // 域名分配管理\r\n      distributeDomainShow:false,\r\n      currentUser:'',//当前用户\r\n\r\n      //高级设置\r\n      isShowUsDialog:false,\r\n      needPostRequest:false,//如果 获取的 ‘用户帐号密码’修改提醒时间间隔 为 null,则设置 ‘用户帐号密码’修改提醒时间间隔时 要先用post请求提交\r\n      userSettingform:{ \r\n        pwInterval:null,\r\n      },\r\n      userSettingformRules:{\r\n        pwInterval:[\r\n          {required:true, message:this.$t('lg.required'), trigger:'blur'},\r\n          {pattern:/^[1-9]\\d*$/,message: '必须为大于0的整数数值', trigger: 'change'}\r\n        ]\r\n      },\r\n      userSetingloading:false,\r\n\r\n    }\r\n  },\r\n  methods:{\r\n    getUsers(){\r\n      var url=SERVER_API_URL+\"uaa/user\";\r\n      axios.get(url).then((res)=>{\r\n        if(res.status==200){\r\n          var resArray=res.data.data;\r\n          this.users=resArray;\r\n          this.$store.state.contentLoading=false;\r\n        }\r\n      }).catch((err)=>{\r\n        console.log(err);\r\n      });\r\n    },\r\n    addUser(){\r\n      this.addShow=true;\r\n    },\r\n\r\n    distributeDomain(userName){//域名分配管理\r\n      this.$refs.domain_distribute.getDistributeDomainData(userName).then((resolvedata)=>{\r\n        this.currentUser=userName;\r\n        this.distributeDomainShow=true;\r\n      })\r\n    },\r\n    editUser(item,type){//flag为true表示更新密码，为false表示修改权限\r\n      // console.log(item)\r\n      this.userInfo=item;\r\n      this[type]=true;\r\n    },\r\n    delUser(item){\r\n      this.$confirm(this.$t('lg.isdeleteUser'),this.$t('lg.tip'),{\r\n        confirmButtonText: this.$t('lg.yes'),\r\n        cancelButtonText: this.$t('lg.cancel'),\r\n        type: 'warning'\r\n      }).then(()=>{\r\n        this.$store.state.contentLoading=true;\r\n        var url=SERVER_API_URL+\"uaa/user/\"+item;\r\n        axios.delete(url).then((res)=>{\r\n          if(res.data.responseCode==0){\r\n            this.getUsers();\r\n            this.$message({\r\n              type: 'success',\r\n              message: this.$t('lg.success')\r\n            });\r\n          }else{\r\n            this.$message.error(this.$t('lg.failed')+': '+ res.data.data.message);\r\n          }\r\n          this.$store.state.contentLoading=false;\r\n        }).catch((err)=>{\r\n          console.log(err)\r\n        })\r\n      }).catch(()=>{\r\n        this.$message({\r\n          type: 'info',\r\n          message: this.$t('lg.canceled')\r\n        });\r\n      })\r\n    },\r\n\r\n    getIntervalPeriod(){//获取 ‘用户帐号密码’修改提醒时间间隔，显示设置弹框\r\n      var url=SERVER_API_URL+\"pe/shadow/kv/uaaIntervalPeriod\";\r\n      axios.get(url).then((res)=>{\r\n        if(res.data.responseCode==0){\r\n          var resData=res.data.data;\r\n          if(!resData){\r\n            this.needPostRequest=true;\r\n          }else{\r\n            this.needPostRequest=false;\r\n          }\r\n          this.userSettingform.pwInterval=resData?resData.value:90;\r\n          this.isShowUsDialog=true;\r\n        }else{\r\n          this.$message.error(this.$t('lg.failed')+': '+res.data.data.message);\r\n        }\r\n      }).catch((err)=>{\r\n        console.log(err);\r\n      });\r\n    },\r\n    setIntervalPeriod(){//设置 ‘用户帐号密码’修改提醒时间间隔\r\n      this.$refs['userSettingform'].validate((valid) => {\r\n        if(valid){\r\n          const url=SERVER_API_URL+\"pe/shadow/kv\";\r\n          let requestMethod=this.needPostRequest?'post':'patch';\r\n          this.userSetingloading=true;\r\n\r\n          axios[requestMethod](url,{\r\n            uaaIntervalPeriod:this.userSettingform.pwInterval-0\r\n          }).then((res)=>{\r\n            if(res.data.responseCode==0){\r\n              this.$message({\r\n                type: 'success',\r\n                message: this.$t('lg.success')\r\n              });\r\n              this.usDialogClose();\r\n            }else{\r\n              this.$message.error(this.$t('lg.failed')+': '+res.data.data.message);\r\n            }\r\n            this.userSetingloading=false;\r\n          }).catch((err)=>{\r\n            console.log(err);\r\n          });\r\n        }\r\n      })\r\n    },\r\n    usDialogClose(){\r\n      this.isShowUsDialog=false;\r\n    },\r\n\r\n    usDrawerClose(done) {\r\n      // this.$confirm('确认关闭？')\r\n      //   .then(_ => {\r\n          done();\r\n        // })\r\n        // .catch(_ => {});\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.users-wrapper{\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  padding: 15px;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.usersContent{\r\n  margin-bottom: 20px;\r\n  flex: 1;\r\n  overflow-y: auto;\r\n}\r\n\r\n\r\n/*抽屉 设置*/\r\n.userSettingBox{\r\n  padding: 0 20px 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n}\r\n.usDrawerTitle{\r\n  background-color: #4a5166;\r\n  font-weight: 800;\r\n  color: #fff;\r\n  line-height: 30px;\r\n  margin-bottom: 20px;\r\n  padding-left: 20px;\r\n  box-sizing: border-box;\r\n}\r\n.usDrawerContent{\r\n  flex: 1;\r\n}\r\n.usFooterBtn{\r\n  display: flex;\r\n}\r\n.usFooterBtn button {\r\n  flex: 1;\r\n}\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/users/users.vue","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userAdd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userAdd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-81c60a50\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./userAdd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/users/userAdd.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"users-wrapper\"},[_c('h2',{staticClass:\"breadcrumb\"},[_vm._v(_vm._s(_vm.$t('lg.yonghugl')))]),_vm._v(\" \"),_c('div',{staticClass:\"btn-bg\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(_vm._s(_vm.$t('lg.adduser')))])],1),_vm._v(\" \"),_c('div',{staticClass:\"usersContent\"},[(_vm.users.length==0)?_c('p',{staticClass:\"nodata-box\"},[_vm._v(_vm._s(_vm.$t('lg.nodata')))]):_vm._e(),_vm._v(\" \"),(_vm.users.length>0)?_c('table',[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t('lg.account')))]),_vm._v(\" \"),_c('th',[_vm._v(_vm._s(_vm.$t('lg.permission')))]),_vm._v(\" \"),_c('th',{attrs:{\"width\":\"280\"}})])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.users),function(item){return _c('tr',[_c('td',[_vm._v(_vm._s(item.userName))]),_vm._v(\" \"),_c('td',_vm._l((item.roles),function(items){return _c('span',[_vm._v(\" \"+_vm._s(items))])})),_vm._v(\" \"),_c('td',{staticClass:\"text-center\"},[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.roles=='USER'),expression:\"item.roles=='USER'\"}],staticClass:\"edit-del-a\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.distributeDomain(item.userName)}}},[_c('i',{staticClass:\"el-icon-edit\"}),_vm._v(\"域名分配管理\")]),_vm._v(\" \"),_c('a',{staticClass:\"edit-del-a\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.editUser(item,'editGradeShow')}}},[_c('i',{staticClass:\"el-icon-edit\"}),_vm._v(_vm._s(_vm.$t('lg.edit')))]),_vm._v(\" \"),_c('a',{staticClass:\"edit-del-a\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.editUser(item,'editPwdShow')}}},[_c('i',{staticClass:\"el-icon-edit-outline\"}),_vm._v(_vm._s(_vm.$t('lg.update')))]),_vm._v(\" \"),_c('a',{staticClass:\"edit-del-a\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.delUser(item.userName)}}},[_c('i',{staticClass:\"el-icon-close\"}),_vm._v(_vm._s(_vm.$t('lg.delete')))])])])}))]):_vm._e()]),_vm._v(\" \"),_c('domain-distribute',{ref:\"domain_distribute\",attrs:{\"isShow\":_vm.distributeDomainShow,\"currentUser\":_vm.currentUser},on:{\"distributeDomainClose\":function($event){_vm.distributeDomainShow=false}}}),_vm._v(\" \"),_c('adduser',{attrs:{\"isShow\":_vm.addShow},on:{\"addclose\":function($event){_vm.addShow=false},\"hasadduser\":_vm.getUsers}}),_vm._v(\" \"),_c('edituser',{attrs:{\"isPwdShow\":_vm.editPwdShow,\"isGradeShow\":_vm.editGradeShow,\"userData\":_vm.userInfo},on:{\"editPwdclose\":function($event){_vm.editPwdShow=false},\"editGradeclose\":function($event){_vm.editGradeShow=false},\"hasadduser\":_vm.getUsers}}),_vm._v(\" \"),_c('div',{staticClass:\"text-right\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getIntervalPeriod}},[_vm._v(\" 高级设置 \")])],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"width\":\"40%\",\"title\":\"修改密码提醒时间间隔设置\",\"visible\":_vm.isShowUsDialog,\"close-on-click-modal\":false,\"before-close\":_vm.usDialogClose},on:{\"update:visible\":function($event){_vm.isShowUsDialog=$event}}},[_c('el-form',{ref:\"userSettingform\",staticClass:\"usDrawerContent\",attrs:{\"model\":_vm.userSettingform,\"rules\":_vm.userSettingformRules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"提醒间隔\",\"prop\":\"pwInterval\"}},[_c('el-input',{model:{value:(_vm.userSettingform.pwInterval),callback:function ($$v) {_vm.$set(_vm.userSettingform, \"pwInterval\", $$v)},expression:\"userSettingform.pwInterval\"}},[_c('template',{slot:\"append\"},[_vm._v(\"/天\")])],2)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.setIntervalPeriod('gradeform')}}},[_vm._v(\"确认\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.usDialogClose()}}},[_vm._v(\"取消\")])],1)],1),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.userSetingloading),expression:\"userSetingloading\"}],attrs:{\"title\":\"数据处理中...\"}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-04fd666f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/users/users.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-04fd666f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./users.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./users.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./users.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-04fd666f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./users.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-04fd666f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/users/users.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}